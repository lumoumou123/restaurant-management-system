{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue","mtime":1743018070249},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\babel.config.js","mtime":1725678814000},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0VXNlckluZm8gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Rhc2hib2FyZCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJSb2xlOiAnJywKICAgICAgdXNlck5hbWU6ICcnLAogICAgICBvd25lclN0YXRzOiB7CiAgICAgICAgcmVzdGF1cmFudENvdW50OiAxLAogICAgICAgIGF2ZXJhZ2VSYXRpbmc6IDQuMiwKICAgICAgICB0b3RhbENvbW1lbnRzOiA0NSwKICAgICAgICB2aWV3Q291bnQ6IDMyNQogICAgICB9LAogICAgICBtYW5hZ2VyU3RhdHM6IHsKICAgICAgICB0b3RhbFJlc3RhdXJhbnRzOiAxNSwKICAgICAgICB0b3RhbE93bmVyczogOCwKICAgICAgICB0b3RhbFVzZXJzOiAxMjAsCiAgICAgICAgdG90YWxDb21tZW50czogODkKICAgICAgfSwKICAgICAgcmVjZW50QWN0aXZpdGllczogW3sKICAgICAgICBjb250ZW50OiAn57O757uf5pu05paw77ya5re75Yqg5LqG6aSQ5Y6F57uf6K6h5Yqf6IO9JywKICAgICAgICB0aW1lOiAnMjAyMy0wNi0wMSAxMjowMDowMCcsCiAgICAgICAgY29sb3I6ICcjMGJiZDg3JwogICAgICB9LCB7CiAgICAgICAgY29udGVudDogJ+aWsOeUqOaIt+azqOWGjCcsCiAgICAgICAgdGltZTogJzIwMjMtMDUtMzAgMTU6MjY6MzgnLAogICAgICAgIGNvbG9yOiAnIzQwOUVGRicKICAgICAgfSwgewogICAgICAgIGNvbnRlbnQ6ICfppJDljoUi5YyX5Lqs54Ok6bit5bqXIuaUtuWIsOaWsOeahOivhOiuuicsCiAgICAgICAgdGltZTogJzIwMjMtMDUtMjkgMDk6MTU6MjAnLAogICAgICAgIGNvbG9yOiAnI0U2QTIzQycKICAgICAgfSwgewogICAgICAgIGNvbnRlbnQ6ICfppJDljoUi5LiK5rW35bCP56y85YyFIuabtOaWsOS6huiPnOWNlScsCiAgICAgICAgdGltZTogJzIwMjMtMDUtMjggMTQ6MzM6NDEnLAogICAgICAgIGNvbG9yOiAnI0Y1NkM2QycKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ3JlZXRpbmcoKSB7CiAgICAgIGNvbnN0IGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgICAgIGxldCBncmVldGluZyA9ICcnOwogICAgICBpZiAoaG91ciA8IDYpIHsKICAgICAgICBncmVldGluZyA9ICflh4zmmajlpb0nOwogICAgICB9IGVsc2UgaWYgKGhvdXIgPCA5KSB7CiAgICAgICAgZ3JlZXRpbmcgPSAn5pep5LiK5aW9JzsKICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTIpIHsKICAgICAgICBncmVldGluZyA9ICfkuIrljYjlpb0nOwogICAgICB9IGVsc2UgaWYgKGhvdXIgPCAxNCkgewogICAgICAgIGdyZWV0aW5nID0gJ+S4reWNiOWlvSc7CiAgICAgIH0gZWxzZSBpZiAoaG91ciA8IDE3KSB7CiAgICAgICAgZ3JlZXRpbmcgPSAn5LiL5Y2I5aW9JzsKICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTkpIHsKICAgICAgICBncmVldGluZyA9ICflgo3mmZrlpb0nOwogICAgICB9IGVsc2UgewogICAgICAgIGdyZWV0aW5nID0gJ+aZmuS4iuWlvSc7CiAgICAgIH0KICAgICAgcmV0dXJuIGAke2dyZWV0aW5nfe+8jCR7dGhpcy51c2VyTmFtZSB8fCAn55So5oi3J33vvIHku4rlpKnmmK8gJHt0aGlzLmZvcm1hdERhdGUobmV3IERhdGUoKSl9YDsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRVc2VySW5mbygpOwogICAgdGhpcy5mZXRjaERhc2hib2FyZERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRVc2VySW5mbygpIHsKICAgICAgY29uc3QgdXNlckluZm8gPSBnZXRVc2VySW5mbygpOwogICAgICBpZiAodXNlckluZm8pIHsKICAgICAgICB0aGlzLnVzZXJSb2xlID0gdXNlckluZm8ucm9sZTsKICAgICAgICB0aGlzLnVzZXJOYW1lID0gdXNlckluZm8ubmFtZSB8fCB1c2VySW5mby51c2VybmFtZTsKICAgICAgfQogICAgfSwKICAgIGZldGNoRGFzaGJvYXJkRGF0YSgpIHsKICAgICAgLy8g6L+Z6YeM5bqU6K+l5LuOQVBJ6I635Y+W5pWw5o2uCiAgICAgIC8vIOeOsOWcqOS9v+eUqOaooeaLn+aVsOaNrgogICAgICBjb25zb2xlLmxvZygn5Yqg6L295Luq6KGo55uY5pWw5o2uJyk7CiAgICB9LAogICAgbmF2aWdhdGVUbyhwYXRoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7CiAgICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpOwogICAgICBjb25zdCB3ZWVrZGF5cyA9IFsn5pif5pyf5pelJywgJ+aYn+acn+S4gCcsICfmmJ/mnJ/kuownLCAn5pif5pyf5LiJJywgJ+aYn+acn+WbmycsICfmmJ/mnJ/kupQnLCAn5pif5pyf5YWtJ107CiAgICAgIGNvbnN0IHdlZWtkYXkgPSB3ZWVrZGF5c1tkYXRlLmdldERheSgpXTsKICAgICAgcmV0dXJuIGAke3llYXJ95bm0JHttb250aH3mnIgke2RheX3ml6UgJHt3ZWVrZGF5fWA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getUserInfo","name","data","userRole","userName","ownerStats","restaurantCount","averageRating","totalComments","viewCount","managerStats","totalRestaurants","totalOwners","totalUsers","recentActivities","content","time","color","computed","greeting","hour","Date","getHours","formatDate","mounted","initUserInfo","fetchDashboardData","methods","userInfo","role","username","console","log","navigateTo","path","$router","push","date","year","getFullYear","month","getMonth","day","getDate","weekdays","weekday","getDay"],"sources":["src/views/emergencyDispatch/dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"welcome-header\">\r\n      <h1>欢迎使用餐厅管理系统</h1>\r\n      <p>{{ greeting }}</p>\r\n    </div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <!-- 餐厅管理卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-management')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-s-shop\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅管理</h3>\r\n            <p>管理餐厅信息、地址和菜单</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅统计卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-statistics')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-data-analysis\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅统计</h3>\r\n            <p>查看评分、评论和访问量等统计数据</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅列表卡片 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-tickets\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅列表</h3>\r\n            <p>浏览所有餐厅和评论</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 业主专区 -->\r\n    <div v-if=\"userRole === 'Owner'\" class=\"owner-section\">\r\n      <h2>我的餐厅概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.restaurantCount || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅数量</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.averageRating || 0 }}</div>\r\n            <div class=\"stat-label\">平均评分</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">总评论数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.viewCount || 0 }}</div>\r\n            <div class=\"stat-label\">本月访问量</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 管理员专区 -->\r\n    <div v-if=\"userRole === 'Manager'\" class=\"manager-section\">\r\n      <h2>系统概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalRestaurants || 0 }}</div>\r\n            <div class=\"stat-label\">总餐厅数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalOwners || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅业主</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalUsers || 0 }}</div>\r\n            <div class=\"stat-label\">注册用户</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">本月评论</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 最近活动 -->\r\n    <div class=\"recent-activity\">\r\n      <h2>最近活动</h2>\r\n      <el-timeline>\r\n        <el-timeline-item\r\n          v-for=\"(activity, index) in recentActivities\"\r\n          :key=\"index\"\r\n          :timestamp=\"activity.time\"\r\n          :color=\"activity.color\"\r\n        >\r\n          {{ activity.content }}\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      userRole: '',\r\n      userName: '',\r\n      ownerStats: {\r\n        restaurantCount: 1,\r\n        averageRating: 4.2,\r\n        totalComments: 45,\r\n        viewCount: 325\r\n      },\r\n      managerStats: {\r\n        totalRestaurants: 15,\r\n        totalOwners: 8,\r\n        totalUsers: 120,\r\n        totalComments: 89\r\n      },\r\n      recentActivities: [\r\n        {\r\n          content: '系统更新：添加了餐厅统计功能',\r\n          time: '2023-06-01 12:00:00',\r\n          color: '#0bbd87'\r\n        },\r\n        {\r\n          content: '新用户注册',\r\n          time: '2023-05-30 15:26:38',\r\n          color: '#409EFF'\r\n        },\r\n        {\r\n          content: '餐厅\"北京烤鸭店\"收到新的评论',\r\n          time: '2023-05-29 09:15:20',\r\n          color: '#E6A23C'\r\n        },\r\n        {\r\n          content: '餐厅\"上海小笼包\"更新了菜单',\r\n          time: '2023-05-28 14:33:41',\r\n          color: '#F56C6C'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    greeting() {\r\n      const hour = new Date().getHours()\r\n      let greeting = ''\r\n      \r\n      if (hour < 6) {\r\n        greeting = '凌晨好'\r\n      } else if (hour < 9) {\r\n        greeting = '早上好'\r\n      } else if (hour < 12) {\r\n        greeting = '上午好'\r\n      } else if (hour < 14) {\r\n        greeting = '中午好'\r\n      } else if (hour < 17) {\r\n        greeting = '下午好'\r\n      } else if (hour < 19) {\r\n        greeting = '傍晚好'\r\n      } else {\r\n        greeting = '晚上好'\r\n      }\r\n      \r\n      return `${greeting}，${this.userName || '用户'}！今天是 ${this.formatDate(new Date())}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initUserInfo()\r\n    this.fetchDashboardData()\r\n  },\r\n  methods: {\r\n    initUserInfo() {\r\n      const userInfo = getUserInfo()\r\n      if (userInfo) {\r\n        this.userRole = userInfo.role\r\n        this.userName = userInfo.name || userInfo.username\r\n      }\r\n    },\r\n    fetchDashboardData() {\r\n      // 这里应该从API获取数据\r\n      // 现在使用模拟数据\r\n      console.log('加载仪表盘数据')\r\n    },\r\n    navigateTo(path) {\r\n      this.$router.push(path)\r\n    },\r\n    formatDate(date) {\r\n      const year = date.getFullYear()\r\n      const month = date.getMonth() + 1\r\n      const day = date.getDate()\r\n      const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      const weekday = weekdays[date.getDay()]\r\n      \r\n      return `${year}年${month}月${day}日 ${weekday}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.welcome-header {\r\n  margin-bottom: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.welcome-header h1 {\r\n  font-size: 28px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.feature-card {\r\n  height: 200px;\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.feature-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  color: #409EFF;\r\n}\r\n\r\n.card-content {\r\n  text-align: center;\r\n}\r\n\r\n.card-content h3 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card-content p {\r\n  color: #606266;\r\n}\r\n\r\n.owner-section, .manager-section {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.owner-section h2, .manager-section h2, .recent-activity h2 {\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #EBEEF5;\r\n}\r\n\r\n.stat-card {\r\n  height: 120px;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stat-label {\r\n  color: #606266;\r\n}\r\n\r\n.recent-activity {\r\n  margin-top: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .feature-card {\r\n    height: 150px;\r\n  }\r\n  \r\n  .stat-card {\r\n    height: 100px;\r\n  }\r\n  \r\n  .stat-value {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style> "],"mappings":"AAgIA,SAAAA,WAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,UAAA;QACAC,eAAA;QACAC,aAAA;QACAC,aAAA;QACAC,SAAA;MACA;MACAC,YAAA;QACAC,gBAAA;QACAC,WAAA;QACAC,UAAA;QACAL,aAAA;MACA;MACAM,gBAAA,GACA;QACAC,OAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,OAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,OAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,OAAA;QACAC,IAAA;QACAC,KAAA;MACA;IAEA;EACA;EACAC,QAAA;IACAC,SAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,GAAAC,QAAA;MACA,IAAAH,QAAA;MAEA,IAAAC,IAAA;QACAD,QAAA;MACA,WAAAC,IAAA;QACAD,QAAA;MACA,WAAAC,IAAA;QACAD,QAAA;MACA,WAAAC,IAAA;QACAD,QAAA;MACA,WAAAC,IAAA;QACAD,QAAA;MACA,WAAAC,IAAA;QACAD,QAAA;MACA;QACAA,QAAA;MACA;MAEA,UAAAA,QAAA,SAAAf,QAAA,qBAAAmB,UAAA,KAAAF,IAAA;IACA;EACA;EACAG,QAAA;IACA,KAAAC,YAAA;IACA,KAAAC,kBAAA;EACA;EACAC,OAAA;IACAF,aAAA;MACA,MAAAG,QAAA,GAAA5B,WAAA;MACA,IAAA4B,QAAA;QACA,KAAAzB,QAAA,GAAAyB,QAAA,CAAAC,IAAA;QACA,KAAAzB,QAAA,GAAAwB,QAAA,CAAA3B,IAAA,IAAA2B,QAAA,CAAAE,QAAA;MACA;IACA;IACAJ,mBAAA;MACA;MACA;MACAK,OAAA,CAAAC,GAAA;IACA;IACAC,WAAAC,IAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,CAAAF,IAAA;IACA;IACAX,WAAAc,IAAA;MACA,MAAAC,IAAA,GAAAD,IAAA,CAAAE,WAAA;MACA,MAAAC,KAAA,GAAAH,IAAA,CAAAI,QAAA;MACA,MAAAC,GAAA,GAAAL,IAAA,CAAAM,OAAA;MACA,MAAAC,QAAA;MACA,MAAAC,OAAA,GAAAD,QAAA,CAAAP,IAAA,CAAAS,MAAA;MAEA,UAAAR,IAAA,IAAAE,KAAA,IAAAE,GAAA,KAAAG,OAAA;IACA;EACA;AACA","ignoreList":[]}]}
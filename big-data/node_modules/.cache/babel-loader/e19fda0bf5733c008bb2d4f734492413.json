{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\Menu.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\Menu.vue","mtime":1744632022756},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\babel.config.js","mtime":1725678814000},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNZW51JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdGF1cmFudHM6IFtdLAogICAgICBtZW51SXRlbXM6IFtdLAogICAgICBmaWx0ZXJlZE1lbnVJdGVtczogW10sCiAgICAgIHNlbGVjdGVkUmVzdGF1cmFudElkOiBudWxsLAogICAgICBjYXRlZ29yeUZpbHRlcjogJycsCiAgICAgIGVkaXRNb2RlOiBmYWxzZSwKICAgICAgbWVudUl0ZW1Gb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgcmVzdGF1cmFudElkOiBudWxsLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBwcmljZTogMCwKICAgICAgICBjYXRlZ29yeTogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlCiAgICAgIH0sCiAgICAgIHVzZXJSb2xlOiAnJywKICAgICAgdXNlcklkOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGF2YWlsYWJsZUNhdGVnb3JpZXMoKSB7CiAgICAgIC8vIOaPkOWPluaJgOacieS4jemHjeWkjeeahOWIhuexuwogICAgICBjb25zdCBjYXRlZ29yaWVzID0gdGhpcy5tZW51SXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5jYXRlZ29yeSkuZmlsdGVyKGNhdGVnb3J5ID0+IGNhdGVnb3J5KTsgLy8g6L+H5ruk5o6J56m65YC8CgogICAgICAvLyDov5Tlm57ljrvph43lkI7nmoTliIbnsbsKICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KGNhdGVnb3JpZXMpXTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgIHRoaXMudXNlclJvbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclJvbGUnKTsKICAgIHRoaXMudXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpOwoKICAgIC8vIOWKoOi9vemkkOWOheWIl+ihqAogICAgdGhpcy5sb2FkUmVzdGF1cmFudHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvYWRSZXN0YXVyYW50cygpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgcmVzcG9uc2U7CiAgICAgICAgLy8g6I635Y+W6K6k6K+B5L+h5oGvCiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9rZW4gPyB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gCiAgICAgICAgfSA6IHt9OwoKICAgICAgICAvLyDmt7vliqDnlKjmiLdJROWSjOinkuiJsuWIsOivt+axguWktAogICAgICAgIGhlYWRlcnNbJ1gtVXNlci1JZCddID0gdGhpcy51c2VySWQ7CiAgICAgICAgaGVhZGVyc1snWC1Vc2VyLVJvbGUnXSA9IHRoaXMudXNlclJvbGU7CiAgICAgICAgY29uc29sZS5sb2coIuWKoOi9vemkkOWOheWIl+ihqDog5b2T5YmN55So5oi36KeS6ImyOiIsIHRoaXMudXNlclJvbGUsICLnlKjmiLdJRDoiLCB0aGlzLnVzZXJJZCk7CiAgICAgICAgaWYgKHRoaXMudXNlclJvbGUgPT09ICdNYW5hZ2VyJykgewogICAgICAgICAgLy8g566h55CG5ZGY5Y+v5Lul55yL5Yiw5omA5pyJ6aSQ5Y6FCiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9jYW50ZWVuL2xpc3QnLCB7CiAgICAgICAgICAgIGhlYWRlcnMKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy51c2VyUm9sZSA9PT0gJ093bmVyJykgewogICAgICAgICAgLy8g5Lia5Li75Y+q6IO955yL5Yiw6Ieq5bex55qE6aSQ5Y6FCiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9jYW50ZWVuL293bmVyL2NhbnRlZW5zYCwgewogICAgICAgICAgICBoZWFkZXJzCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMucmVzdGF1cmFudHMgPSByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107CiAgICAgICAgICBjb25zb2xlLmxvZyhg5oiQ5Yqf5Yqg6L29JHt0aGlzLnJlc3RhdXJhbnRzLmxlbmd0aH3lrrbppJDljoVgKTsKCiAgICAgICAgICAvLyDlpoLmnpzlj6rmnInkuIDkuKrppJDljoXvvIzoh6rliqjpgInmi6nlroMKICAgICAgICAgIGlmICh0aGlzLnJlc3RhdXJhbnRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkID0gdGhpcy5yZXN0YXVyYW50c1swXS5pZDsKICAgICAgICAgICAgdGhpcy5sb2FkTWVudSgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3Jlc3BvbnNlLCBfcmVzcG9uc2UyOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdGF1cmFudHM6ICcgKyAoKChfcmVzcG9uc2UgPSByZXNwb25zZSkgPT09IG51bGwgfHwgX3Jlc3BvbnNlID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSA9IF9yZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZS5tc2cpIHx8ICdVbmtub3duIGVycm9yJykpOwogICAgICAgICAgY29uc29sZS5lcnJvcigi5Yqg6L296aSQ5Y6F5aSx6LSlOiIsIChfcmVzcG9uc2UyID0gcmVzcG9uc2UpID09PSBudWxsIHx8IF9yZXNwb25zZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZTIuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2U7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyByZXN0YXVyYW50czonLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSl6K+m5oOFOiIsIGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YSA6IGVycm9yLm1lc3NhZ2UpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcmVzdGF1cmFudHM6ICcgKyAoKChfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlID09PSB2b2lkIDAgfHwgKF9lcnJvciRyZXNwb25zZSA9IF9lcnJvciRyZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZS5tc2cpIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWRNZW51KCkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLm1lbnVJdGVtRm9ybS5yZXN0YXVyYW50SWQgPSB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkOwogICAgICAgIHRoaXMubWVudUl0ZW1Gb3JtLmNhbnRpbmdfaWQgPSB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkOwoKICAgICAgICAvLyDojrflj5borqTor4Hkv6Hmga8KICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b2tlbiA/IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAKICAgICAgICB9IDoge307CgogICAgICAgIC8vIOa3u+WKoOeUqOaIt0lE5ZKM6KeS6Imy5Yiw6K+35rGC5aS0CiAgICAgICAgaGVhZGVyc1snWC1Vc2VyLUlkJ10gPSB0aGlzLnVzZXJJZDsKICAgICAgICBoZWFkZXJzWydYLVVzZXItUm9sZSddID0gdGhpcy51c2VyUm9sZTsKICAgICAgICBjb25zb2xlLmxvZyhg5q2j5Zyo5Yqg6L296aSQ5Y6FSUQ9JHt0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkfeeahOiPnOWNlWApOwoKICAgICAgICAvLyDmoLnmja7lkI7nq69BUEnot6/lvoTkv67mraMKICAgICAgICAvLyDlkI7nq6/mnInkuKTkuKrlj6/nlKjot6/lvoTvvJovbWVudS9yZXN0YXVyYW50L3tpZH0g5oiWIC9jYW50aW5nL3tpZH0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL21lbnUvcmVzdGF1cmFudC8ke3RoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWR9YCwgewogICAgICAgICAgaGVhZGVycwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAvLyDnoa7kv51tZW51SXRlbXPlrZfmrrXkuI7mlbDmja7lupPooajlrZfmrrXljLnphY0KICAgICAgICAgIHRoaXMubWVudUl0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhIHx8IFtdOwoKICAgICAgICAgIC8vIOa3u+WKoOmineWkluWkhOeQhu+8muehruS/neaVsOaNruWtl+auteS4juWJjeerr+e7hOS7tuWMuemFjQogICAgICAgICAgdGhpcy5tZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtcy5tYXAoaXRlbSA9PiAoewogICAgICAgICAgICAuLi5pdGVtLAogICAgICAgICAgICBwcmljZTogcGFyc2VGbG9hdChpdGVtLnByaWNlKSB8fCAwLAogICAgICAgICAgICAvLyDnoa7kv53ku7fmoLzmmK/mlbDlrZfnsbvlnosKICAgICAgICAgICAgaXNBdmFpbGFibGU6IGl0ZW0uaXNfYXZhaWxhYmxlID09PSAxLAogICAgICAgICAgICAvLyDlpITnkIblrZfmrrXlkI3kuI3kuIDoh7Tpl67popgKICAgICAgICAgICAgcmVzdGF1cmFudElkOiBpdGVtLmNhbnRpbmdfaWQgLy8g5aSE55CG5a2X5q615ZCN5LiN5LiA6Ie06Zeu6aKYCiAgICAgICAgICB9KSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhg5oiQ5Yqf5Yqg6L29JHt0aGlzLm1lbnVJdGVtcy5sZW5ndGh95Liq6I+c5Y2V6aG5YCwgdGhpcy5tZW51SXRlbXNbMF0pOwogICAgICAgICAgdGhpcy5maWx0ZXJCeUNhdGVnb3J5KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfcmVzcG9uc2UkZGF0YTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoKChfcmVzcG9uc2UkZGF0YSA9IHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkZGF0YS5tc2cpIHx8ICdGYWlsZWQgdG8gbG9hZCBtZW51IGl0ZW1zJyk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLliqDovb3oj5zljZXlpLHotKU6IiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UyOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgbWVudTonLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSl6K+m5oOFOiIsIGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YSA6IGVycm9yLm1lc3NhZ2UpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgbWVudSBpdGVtczogJyArICgoKF9lcnJvciRyZXNwb25zZTIgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlMiA9PT0gdm9pZCAwIHx8IChfZXJyb3IkcmVzcG9uc2UyID0gX2Vycm9yJHJlc3BvbnNlMi5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2UyLm1zZykgfHwgZXJyb3IubWVzc2FnZSkpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyQnlDYXRlZ29yeSgpIHsKICAgICAgaWYgKCF0aGlzLmNhdGVnb3J5RmlsdGVyKSB7CiAgICAgICAgdGhpcy5maWx0ZXJlZE1lbnVJdGVtcyA9IHRoaXMubWVudUl0ZW1zOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsdGVyZWRNZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09PSB0aGlzLmNhdGVnb3J5RmlsdGVyKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNhdmVNZW51SXRlbSgpIHsKICAgICAgLy8g6aqM6K+B5b+F5aGr5a2X5q61CiAgICAgIGlmICghdGhpcy5tZW51SXRlbUZvcm0ubmFtZSB8fCB0aGlzLm1lbnVJdGVtRm9ybS5wcmljZSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1BsZWFzZSBmaWxsIGluIGl0ZW0gbmFtZSBhbmQgcHJpY2UnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOehruS/nemkkOWOhUlE5bey6K6+572u77yM5bm25LiO5pWw5o2u5bqT5a2X5q615ZCN5Yy56YWNCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gewogICAgICAgIC4uLnRoaXMubWVudUl0ZW1Gb3JtLAogICAgICAgIGNhbnRlZW5JZDogdGhpcy5zZWxlY3RlZFJlc3RhdXJhbnRJZCwKICAgICAgICAvLyDlkI7nq69NZW51SXRlbeWunuS9k+S9v+eUqGNhbnRlZW5JZAogICAgICAgIGNhbnRpbmdfaWQ6IHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQsCiAgICAgICAgLy8g5pWw5o2u5bqT5Lit55qE5a2X5q615pivY2FudGluZ19pZAogICAgICAgIGlzX2F2YWlsYWJsZTogdGhpcy5tZW51SXRlbUZvcm0uaXNBdmFpbGFibGUgPyAxIDogMCAvLyDmlbDmja7lupPkuK3mmK9pc19hdmFpbGFibGXvvIwx6KGo56S65Y+v55So77yMMOihqOekuuS4jeWPr+eUqAogICAgICB9OwogICAgICBpZiAodGhpcy5lZGl0TW9kZSAmJiBmb3JtRGF0YS5pZCkgewogICAgICAgIC8vIGlk5L+d5oyB5Y6f5qC3CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5paw5aKe5pe25LiN6ZyA6KaB5o+Q5L6baWTvvIzmlbDmja7lupPkvJroh6rliqjnlJ/miJAKICAgICAgICBkZWxldGUgZm9ybURhdGEuaWQ7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coIuWHhuWkh+S/neWtmOiPnOWNlemhuToiLCBmb3JtRGF0YSk7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6I635Y+W6K6k6K+B5L+h5oGvCiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICBjb25zdCBoZWFkZXJzID0gewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH07CiAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOeUqOaIt0lE5ZKM6KeS6Imy5Yiw6K+35rGC5aS0CiAgICAgICAgaGVhZGVyc1snWC1Vc2VyLUlkJ10gPSB0aGlzLnVzZXJJZDsKICAgICAgICBoZWFkZXJzWydYLVVzZXItUm9sZSddID0gdGhpcy51c2VyUm9sZTsKCiAgICAgICAgLy8g5qC55o2uTWVudUl0ZW1Db250cm9sbGVy55qEQVBJ6Lev5b6ECiAgICAgICAgbGV0IHVybCwgbWV0aG9kOwogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlKSB7CiAgICAgICAgICAvLyDlr7nkuo7nvJbovpHvvIzkvb/nlKhQVVTmlrnms5XlkozmoLnot6/lvoQKICAgICAgICAgIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvbWVudSc7CiAgICAgICAgICBtZXRob2QgPSAncHV0JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5a+55LqO5paw5aKe77yM5L2/55SoUE9TVOaWueazleWSjOaguei3r+W+hAogICAgICAgICAgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9tZW51JzsKICAgICAgICAgIG1ldGhvZCA9ICdwb3N0JzsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coIuWPkemAgeivt+axguWIsDoiLCB1cmwsICLmlrnms5U6IiwgbWV0aG9kKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsKICAgICAgICAgIG1ldGhvZCwKICAgICAgICAgIHVybCwKICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgaGVhZGVycwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy5lZGl0TW9kZSA/ICdNZW51IGl0ZW0gdXBkYXRlZCBzdWNjZXNzZnVsbHknIDogJ01lbnUgaXRlbSBhZGRlZCBzdWNjZXNzZnVsbHknKTsKICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgICB0aGlzLmxvYWRNZW51KCk7IC8vIOmHjeaWsOWKoOi9veiPnOWNlQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3Jlc3BvbnNlJGRhdGEyOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigoKF9yZXNwb25zZSRkYXRhMiA9IHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJGRhdGEyLm1zZykgfHwgJ09wZXJhdGlvbiBmYWlsZWQnKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuaTjeS9nOWksei0pToiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTM7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG1lbnUgaXRlbTonLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSl6K+m5oOFOiIsIGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YSA6IGVycm9yLm1lc3NhZ2UpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0Vycm9yIHNhdmluZyBtZW51IGl0ZW06ICcgKyAoKChfZXJyb3IkcmVzcG9uc2UzID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTMgPT09IHZvaWQgMCB8fCAoX2Vycm9yJHJlc3BvbnNlMyA9IF9lcnJvciRyZXNwb25zZTMuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlMy5tc2cpIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgfQogICAgfSwKICAgIGVkaXRNZW51SXRlbShtZW51SXRlbSkgewogICAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTsKICAgICAgdGhpcy5tZW51SXRlbUZvcm0gPSB7CiAgICAgICAgLi4ubWVudUl0ZW0KICAgICAgfTsKCiAgICAgIC8vIOa7muWKqOWIsOihqOWNleWMuuWfnwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1mb3JtJyk7CiAgICAgICAgaWYgKGZvcm1FbGVtZW50KSB7CiAgICAgICAgICBmb3JtRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBkZWxldGVNZW51SXRlbShtZW51SXRlbSkgewogICAgICB0cnkgewogICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgbWVudSBpdGVtPycpKSB7CiAgICAgICAgICAvLyDojrflj5borqTor4Hkv6Hmga8KICAgICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge307CiAgICAgICAgICBpZiAodG9rZW4pIHsKICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g5re75Yqg55So5oi3SUTlkozop5LoibLliLDor7fmsYLlpLQKICAgICAgICAgIGhlYWRlcnNbJ1gtVXNlci1JZCddID0gdGhpcy51c2VySWQ7CiAgICAgICAgICBoZWFkZXJzWydYLVVzZXItUm9sZSddID0gdGhpcy51c2VyUm9sZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGDlh4blpIfliKDpmaToj5zljZXpoblJRD0ke21lbnVJdGVtLmlkfWApOwoKICAgICAgICAgIC8vIOagueaNrk1lbnVJdGVtQ29udHJvbGxlcueahEFQSei3r+W+hAogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9tZW51L2RlbGV0ZS8ke21lbnVJdGVtLmlkfWAsIHsKICAgICAgICAgICAgaGVhZGVycwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ01lbnUgaXRlbSBkZWxldGVkIHN1Y2Nlc3NmdWxseScpOwogICAgICAgICAgICB0aGlzLmxvYWRNZW51KCk7IC8vIOmHjeaWsOWKoOi9veiPnOWNlQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIF9yZXNwb25zZSRkYXRhMzsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigoKF9yZXNwb25zZSRkYXRhMyA9IHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJGRhdGEzLm1zZykgfHwgJ0ZhaWxlZCB0byBkZWxldGUgbWVudSBpdGVtJyk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuWIoOmZpOWksei0pToiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTQ7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbWVudSBpdGVtOicsIGVycm9yKTsKICAgICAgICBjb25zb2xlLmVycm9yKCLor7fmsYLlpLHotKXor6bmg4U6IiwgZXJyb3IucmVzcG9uc2UgPyBlcnJvci5yZXNwb25zZS5kYXRhIDogZXJyb3IubWVzc2FnZSk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbWVudSBpdGVtOiAnICsgKCgoX2Vycm9yJHJlc3BvbnNlNCA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2U0ID09PSB2b2lkIDAgfHwgKF9lcnJvciRyZXNwb25zZTQgPSBfZXJyb3IkcmVzcG9uc2U0LmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZTQubXNnKSB8fCBlcnJvci5tZXNzYWdlKSk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMubWVudUl0ZW1Gb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHJlc3RhdXJhbnRJZDogdGhpcy5zZWxlY3RlZFJlc3RhdXJhbnRJZCwKICAgICAgICBjYW50aW5nX2lkOiB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkLAogICAgICAgIC8vIOS4juaVsOaNruW6k+Wtl+auteWvueW6lAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBwcmljZTogMCwKICAgICAgICBjYXRlZ29yeTogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlLAogICAgICAgIGlzX2F2YWlsYWJsZTogMSAvLyDkuI7mlbDmja7lupPlrZfmrrXlr7nlupQKICAgICAgfTsKICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOwogICAgfSwKICAgIGNhbmNlbEVkaXQoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Jlc3RhdXJhbnQtbWFuYWdlbWVudCcpOwogICAgfSwKICAgIGdldFJvd0NsYXNzTmFtZSh7CiAgICAgIHJvdwogICAgfSkgewogICAgICByZXR1cm4gcm93LmlzQXZhaWxhYmxlID8gJycgOiAndW5hdmFpbGFibGUtaXRlbSc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","restaurants","menuItems","filteredMenuItems","selectedRestaurantId","categoryFilter","editMode","menuItemForm","id","restaurantId","description","price","category","image","isAvailable","userRole","userId","computed","availableCategories","categories","map","item","filter","Set","created","localStorage","getItem","loadRestaurants","methods","response","token","headers","console","log","get","code","length","loadMenu","_response","_response2","$message","error","msg","_error$response","message","canting_id","parseFloat","is_available","filterByCategory","_response$data","_error$response2","saveMenuItem","formData","canteenId","url","method","success","resetForm","_response$data2","_error$response3","editMenuItem","menuItem","$nextTick","formElement","document","querySelector","scrollIntoView","behavior","deleteMenuItem","confirm","delete","_response$data3","_error$response4","cancelEdit","goBack","$router","push","getRowClassName","row"],"sources":["src/views/Menu.vue"],"sourcesContent":["<template>\r\n  <div class=\"menu-management\">\r\n    <h2>Restaurant Menu Management</h2>\r\n    \r\n    <div class=\"restaurant-selector\">\r\n      <el-select \r\n        v-model=\"selectedRestaurantId\" \r\n        placeholder=\"Select a restaurant\" \r\n        @change=\"loadMenu\"\r\n        style=\"width: 100%;\"\r\n      >\r\n        <el-option \r\n          v-for=\"restaurant in restaurants\" \r\n          :key=\"restaurant.id\" \r\n          :label=\"restaurant.name\" \r\n          :value=\"restaurant.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </div>\r\n    \r\n    <div v-if=\"selectedRestaurantId\" class=\"menu-content\">\r\n      <!-- Menu Item Form -->\r\n      <div class=\"menu-form\">\r\n        <h3>{{ editMode ? 'Edit Menu Item' : 'Add New Menu Item' }}</h3>\r\n        <el-form :model=\"menuItemForm\" label-width=\"120px\">\r\n          <el-form-item label=\"Name\" required>\r\n            <el-input v-model=\"menuItemForm.name\" placeholder=\"Item Name\"></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Description\">\r\n            <el-input \r\n              v-model=\"menuItemForm.description\" \r\n              type=\"textarea\" \r\n              :rows=\"3\" \r\n              placeholder=\"Item Description\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Price\" required>\r\n            <el-input-number \r\n              v-model=\"menuItemForm.price\" \r\n              :precision=\"2\" \r\n              :step=\"0.5\" \r\n              :min=\"0\"\r\n              style=\"width: 200px;\"\r\n            ></el-input-number>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Category\">\r\n            <el-select v-model=\"menuItemForm.category\" placeholder=\"Select Category\">\r\n              <el-option label=\"Appetizer\" value=\"Appetizer\"></el-option>\r\n              <el-option label=\"Main Course\" value=\"Main Course\"></el-option>\r\n              <el-option label=\"Dessert\" value=\"Dessert\"></el-option>\r\n              <el-option label=\"Beverage\" value=\"Beverage\"></el-option>\r\n              <el-option label=\"Special\" value=\"Special\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Image URL\">\r\n            <el-input v-model=\"menuItemForm.image\" placeholder=\"Item Image URL\"></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Available\">\r\n            <el-switch v-model=\"menuItemForm.isAvailable\"></el-switch>\r\n          </el-form-item>\r\n          \r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"saveMenuItem\">Save</el-button>\r\n            <el-button @click=\"resetForm\">Reset</el-button>\r\n            <el-button v-if=\"editMode\" @click=\"cancelEdit\">Cancel</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      \r\n      <!-- Menu Items List -->\r\n      <div class=\"menu-list\">\r\n        <h3>Menu Items</h3>\r\n        \r\n        <div class=\"category-filters\">\r\n          <el-radio-group v-model=\"categoryFilter\" @change=\"filterByCategory\">\r\n            <el-radio-button label=\"\">All</el-radio-button>\r\n            <el-radio-button \r\n              v-for=\"category in availableCategories\" \r\n              :key=\"category\" \r\n              :label=\"category\"\r\n            >{{ category }}</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n        \r\n        <div v-if=\"filteredMenuItems.length === 0\" class=\"no-items\">\r\n          <p>No menu items found. Add your first item above!</p>\r\n        </div>\r\n        \r\n        <el-table \r\n          v-else \r\n          :data=\"filteredMenuItems\" \r\n          style=\"width: 100%\"\r\n          :row-class-name=\"getRowClassName\"\r\n        >\r\n          <el-table-column prop=\"name\" label=\"Name\" min-width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"description\" label=\"Description\" min-width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"description-text\">{{ scope.row.description || 'No description' }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"price\" label=\"Price\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              €{{ scope.row.price.toFixed(2) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"category\" label=\"Category\" width=\"120\"></el-table-column>\r\n          <el-table-column prop=\"isAvailable\" label=\"Available\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"scope.row.isAvailable ? 'success' : 'danger'\">\r\n                {{ scope.row.isAvailable ? 'Yes' : 'No' }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Actions\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" @click=\"editMenuItem(scope.row)\">Edit</el-button>\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"deleteMenuItem(scope.row)\">Delete</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-else class=\"no-restaurant-selected\">\r\n      <p>Please select a restaurant to manage its menu</p>\r\n    </div>\r\n    \r\n    <div class=\"actions-bar\">\r\n      <el-button type=\"warning\" @click=\"goBack\">Back to Restaurant Management</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Menu',\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n      menuItems: [],\r\n      filteredMenuItems: [],\r\n      selectedRestaurantId: null,\r\n      categoryFilter: '',\r\n      editMode: false,\r\n      menuItemForm: {\r\n        id: null,\r\n        restaurantId: null,\r\n        name: '',\r\n        description: '',\r\n        price: 0,\r\n        category: '',\r\n        image: '',\r\n        isAvailable: true\r\n      },\r\n      userRole: '',\r\n      userId: null\r\n    };\r\n  },\r\n  computed: {\r\n    availableCategories() {\r\n      // 提取所有不重复的分类\r\n      const categories = this.menuItems\r\n        .map(item => item.category)\r\n        .filter(category => category); // 过滤掉空值\r\n      \r\n      // 返回去重后的分类\r\n      return [...new Set(categories)];\r\n    }\r\n  },\r\n  created() {\r\n    // 获取用户信息\r\n    this.userRole = localStorage.getItem('userRole');\r\n    this.userId = localStorage.getItem('userId');\r\n    \r\n    // 加载餐厅列表\r\n    this.loadRestaurants();\r\n  },\r\n  methods: {\r\n    async loadRestaurants() {\r\n      try {\r\n        let response;\r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        console.log(\"加载餐厅列表: 当前用户角色:\", this.userRole, \"用户ID:\", this.userId);\r\n        \r\n        if (this.userRole === 'Manager') {\r\n          // 管理员可以看到所有餐厅\r\n          response = await axios.get('http://localhost:8080/api/canteen/list', { headers });\r\n        } else if (this.userRole === 'Owner') {\r\n          // 业主只能看到自己的餐厅\r\n          response = await axios.get(`http://localhost:8080/api/canteen/owner/canteens`, { headers });\r\n        }\r\n        \r\n        if (response && response.data && response.data.code === 200) {\r\n          this.restaurants = response.data.data || [];\r\n          console.log(`成功加载${this.restaurants.length}家餐厅`);\r\n          \r\n          // 如果只有一个餐厅，自动选择它\r\n          if (this.restaurants.length === 1) {\r\n            this.selectedRestaurantId = this.restaurants[0].id;\r\n            this.loadMenu();\r\n          }\r\n        } else {\r\n          this.$message.error('Failed to load restaurants: ' + (response?.data?.msg || 'Unknown error'));\r\n          console.error(\"加载餐厅失败:\", response?.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading restaurants:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error loading restaurants: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    async loadMenu() {\r\n      if (!this.selectedRestaurantId) return;\r\n      \r\n      try {\r\n        this.menuItemForm.restaurantId = this.selectedRestaurantId;\r\n        this.menuItemForm.canting_id = this.selectedRestaurantId;\r\n        \r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        console.log(`正在加载餐厅ID=${this.selectedRestaurantId}的菜单`);\r\n        \r\n        // 根据后端API路径修正\r\n        // 后端有两个可用路径：/menu/restaurant/{id} 或 /canting/{id}\r\n        const response = await axios.get(\r\n          `http://localhost:8080/menu/restaurant/${this.selectedRestaurantId}`, \r\n          { headers }\r\n        );\r\n        \r\n        if (response.data && response.data.code === 200) {\r\n          // 确保menuItems字段与数据库表字段匹配\r\n          this.menuItems = response.data.data || [];\r\n          \r\n          // 添加额外处理：确保数据字段与前端组件匹配\r\n          this.menuItems = this.menuItems.map(item => ({\r\n            ...item,\r\n            price: parseFloat(item.price) || 0, // 确保价格是数字类型\r\n            isAvailable: item.is_available === 1, // 处理字段名不一致问题\r\n            restaurantId: item.canting_id // 处理字段名不一致问题\r\n          }));\r\n          \r\n          console.log(`成功加载${this.menuItems.length}个菜单项`, this.menuItems[0]);\r\n          this.filterByCategory();\r\n        } else {\r\n          this.$message.error(response.data?.msg || 'Failed to load menu items');\r\n          console.error(\"加载菜单失败:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading menu:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error loading menu items: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    filterByCategory() {\r\n      if (!this.categoryFilter) {\r\n        this.filteredMenuItems = this.menuItems;\r\n      } else {\r\n        this.filteredMenuItems = this.menuItems.filter(item => \r\n          item.category === this.categoryFilter\r\n        );\r\n      }\r\n    },\r\n    \r\n    async saveMenuItem() {\r\n      // 验证必填字段\r\n      if (!this.menuItemForm.name || this.menuItemForm.price === null) {\r\n        this.$message.error('Please fill in item name and price');\r\n        return;\r\n      }\r\n      \r\n      // 确保餐厅ID已设置，并与数据库字段名匹配\r\n      const formData = {\r\n        ...this.menuItemForm,\r\n        canteenId: this.selectedRestaurantId,  // 后端MenuItem实体使用canteenId\r\n        canting_id: this.selectedRestaurantId,  // 数据库中的字段是canting_id\r\n        is_available: this.menuItemForm.isAvailable ? 1 : 0, // 数据库中是is_available，1表示可用，0表示不可用\r\n      };\r\n      \r\n      if (this.editMode && formData.id) {\r\n        // id保持原样\r\n      } else {\r\n        // 新增时不需要提供id，数据库会自动生成\r\n        delete formData.id;\r\n      }\r\n      \r\n      console.log(\"准备保存菜单项:\", formData);\r\n      \r\n      try {\r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = {\r\n          'Content-Type': 'application/json'\r\n        };\r\n        \r\n        if (token) {\r\n          headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        // 根据MenuItemController的API路径\r\n        let url, method;\r\n        \r\n        if (this.editMode) {\r\n          // 对于编辑，使用PUT方法和根路径\r\n          url = 'http://localhost:8080/menu';\r\n          method = 'put';\r\n        } else {\r\n          // 对于新增，使用POST方法和根路径\r\n          url = 'http://localhost:8080/menu';\r\n          method = 'post';\r\n        }\r\n        \r\n        console.log(\"发送请求到:\", url, \"方法:\", method);\r\n        const response = await axios({\r\n          method,\r\n          url,\r\n          data: formData,\r\n          headers\r\n        });\r\n        \r\n        if (response.data && response.data.code === 200) {\r\n          this.$message.success(this.editMode ? 'Menu item updated successfully' : 'Menu item added successfully');\r\n          this.resetForm();\r\n          this.loadMenu(); // 重新加载菜单\r\n        } else {\r\n          this.$message.error(response.data?.msg || 'Operation failed');\r\n          console.error(\"操作失败:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error saving menu item:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error saving menu item: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    editMenuItem(menuItem) {\r\n      this.editMode = true;\r\n      this.menuItemForm = { ...menuItem };\r\n      \r\n      // 滚动到表单区域\r\n      this.$nextTick(() => {\r\n        const formElement = document.querySelector('.menu-form');\r\n        if (formElement) {\r\n          formElement.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      });\r\n    },\r\n    \r\n    async deleteMenuItem(menuItem) {\r\n      try {\r\n        if (confirm('Are you sure you want to delete this menu item?')) {\r\n          // 获取认证信息\r\n          const token = localStorage.getItem('token');\r\n          const headers = {};\r\n          \r\n          if (token) {\r\n            headers['Authorization'] = `Bearer ${token}`;\r\n          }\r\n          \r\n          // 添加用户ID和角色到请求头\r\n          headers['X-User-Id'] = this.userId;\r\n          headers['X-User-Role'] = this.userRole;\r\n          \r\n          console.log(`准备删除菜单项ID=${menuItem.id}`);\r\n          \r\n          // 根据MenuItemController的API路径\r\n          const response = await axios.delete(\r\n            `http://localhost:8080/menu/delete/${menuItem.id}`, \r\n            { headers }\r\n          );\r\n          \r\n          if (response.data && response.data.code === 200) {\r\n            this.$message.success('Menu item deleted successfully');\r\n            this.loadMenu(); // 重新加载菜单\r\n          } else {\r\n            this.$message.error(response.data?.msg || 'Failed to delete menu item');\r\n            console.error(\"删除失败:\", response.data);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting menu item:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error deleting menu item: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    resetForm() {\r\n      this.menuItemForm = {\r\n        id: null,\r\n        restaurantId: this.selectedRestaurantId,\r\n        canting_id: this.selectedRestaurantId, // 与数据库字段对应\r\n        name: '',\r\n        description: '',\r\n        price: 0,\r\n        category: '',\r\n        image: '',\r\n        isAvailable: true,\r\n        is_available: 1 // 与数据库字段对应\r\n      };\r\n      this.editMode = false;\r\n    },\r\n    \r\n    cancelEdit() {\r\n      this.resetForm();\r\n    },\r\n    \r\n    goBack() {\r\n      this.$router.push('/restaurant-management');\r\n    },\r\n    \r\n    getRowClassName({row}) {\r\n      return row.isAvailable ? '' : 'unavailable-item';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.menu-management {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh2, h3 {\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.restaurant-selector {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.menu-content {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.menu-form {\r\n  background: #f9f9f9;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.menu-list {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  border: 1px solid #eee;\r\n}\r\n\r\n.category-filters {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.no-items, .no-restaurant-selected {\r\n  text-align: center;\r\n  color: #999;\r\n  padding: 30px 0;\r\n}\r\n\r\n.description-text {\r\n  display: block;\r\n  max-height: 80px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.actions-bar {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* 不可用菜单项的样式 */\r\n.unavailable-item {\r\n  background-color: #f9f9f9;\r\n  color: #999;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .menu-content {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}
{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\gugeMap.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\gugeMap.vue","mtime":1744730762765},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\babel.config.js","mtime":1725678814000},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyByYXRlLCBnZXRDb21tZW50cywgYWRkQ29tbWVudCwgZGVsZXRlQ29tbWVudCB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL0xvZ2luLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR29vZ2xlTWFwIiwKICBjb21wb25lbnRzOiB7CiAgICBMb2dpbgogIH0sCiAgcHJvcHM6IHsKICAgIGNhbnRpbmRpemhpOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHZhbGlkYXRvcjogdmFsdWUgPT4gewogICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGF0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubG5nID09PSAnbnVtYmVyJzsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcDogbnVsbCwKICAgICAgLy8g5Zyw5Zu+5a6e5L6LCiAgICAgIG1hcmtlcnM6IFtdLAogICAgICAvLyDlvZPliY3moIforrDmlbDnu4QKICAgICAgaXNNYXBMb2FkZWQ6IGZhbHNlLAogICAgICAvLyDnlKjkuo7moIforrDlnLDlm77mmK/lkKbliqDovb3lrozmiJAKICAgICAgc2hvd0N1c3RvbUluZm9XaW5kb3c6IGZhbHNlLAogICAgICAvLyDmjqfliLboh6rlrprkuYnlvLnnqpfmmL7npLoKICAgICAgc2VsZWN0ZWRMb2NhdGlvbjoge30sCiAgICAgIC8vIOW9k+WJjemAieS4reeahOS9jee9ruS/oeaBrwogICAgICBjdXJyZW50UmF0aW5nOiAwLAogICAgICAvLyDlvZPliY3or4TliIYKICAgICAgY29tbWVudHM6IFtdLAogICAgICBuZXdDb21tZW50OiAnJywKICAgICAgY3VycmVudFVzZXJJZDogbnVsbCwKICAgICAgY3VycmVudFVzZXJOYW1lOiBudWxsLAogICAgICBtYXBFcnJvcjogbnVsbCwKICAgICAgc2hvd0xvZ2luRGlhbG9nOiBmYWxzZSwKICAgICAgbWVudUl0ZW1zOiBbXSwKICAgICAgLy8g5a2Y5YKo6I+c5Y2V6aG5CiAgICAgIGFjdGl2ZVRhYjogJ2luZm8nIC8vIOaOp+WItuW9k+WJjea/gOa0u+eahOagh+etvumhtQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjYW50aW5kaXpoaTogewogICAgICBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbCwgIm5ld1ZhbCIpOwogICAgICAgIGlmICh0aGlzLmlzTWFwTG9hZGVkICYmIG5ld1ZhbCAmJiBuZXdWYWwubGF0ICYmIG5ld1ZhbC5sbmcpIHsKICAgICAgICAgIG5ld1ZhbC5sYXQgPSBOdW1iZXIobmV3VmFsLmxhdCk7CiAgICAgICAgICBuZXdWYWwubG5nID0gTnVtYmVyKG5ld1ZhbC5sbmcpOwogICAgICAgICAgbmV3VmFsLnNjb3JlID0gTnVtYmVyKG5ld1ZhbC5zY29yZSk7CiAgICAgICAgICB0aGlzLmFuaW1hdGVQYW5UbyhuZXdWYWwpOyAvLyDkvb/nlKjliqjnlLvlubPnp7vliLDkvY3nva4KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSAvLyDliJ3lp4vliqDovb3ml7bkuZ/op6blj5EKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDliJ3lp4vljJbml7bmo4Dmn6XnmbvlvZXnirbmgIEKICAgIHRoaXMuY2hlY2tMb2dpblN0YXR1cygpOwoKICAgIC8vIOebkeWQrCBzdG9yYWdlIOS6i+S7tu+8jOW9k+acrOWcsOWtmOWCqOWPmOWMluaXtuabtOaWsOeZu+W9leeKtuaAgQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmNoZWNrTG9naW5TdGF0dXMpOwoKICAgIC8vIOebkeWQrOiHquWumuS5ieS6i+S7tgogICAgdGhpcy4kcm9vdC4kb24oJ3VzZXItbG9nZ2VkLWluJywgdGhpcy5oYW5kbGVVc2VyTG9naW4pOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hlY2tMb2dpblN0YXR1cygpOwoKICAgIC8vIOS/ruaUuSBHb29nbGUgTWFwcyBBUEkg5Yqg6L295pa55byPCiAgICBpZiAod2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMpIHsKICAgICAgdGhpcy5pbml0TWFwKCk7CiAgICB9IGVsc2UgewogICAgICAvLyDlpoLmnpxHb29nbGUgTWFwcyBBUEnlsJrmnKrliqDovb3vvIzmt7vliqDplJnor6/mtojmga8KICAgICAgdGhpcy5tYXBFcnJvciA9ICdHb29nbGUgTWFwcyBBUEkgbG9hZGluZy4uLic7CiAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgTWFwcyBBUEkgbm90IGxvYWRlZCwgd2FpdGluZyBmb3IgbG9hZCBmcm9tIGluZGV4Lmh0bWwnKTsKCiAgICAgIC8vIOWIm+W7uuS4gOS4qui9ruivouajgOafpU1hcHMgQVBJ5piv5ZCm5Yqg6L295a6M5oiQCiAgICAgIGNvbnN0IGNoZWNrR29vZ2xlTWFwc0xvYWRlZCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAod2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tHb29nbGVNYXBzTG9hZGVkKTsKICAgICAgICAgIHRoaXMuaW5pdE1hcCgpOwogICAgICAgICAgY29uc29sZS5sb2coJ0dvb2dsZSBNYXBzIEFQSSBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7CiAgICAgICAgfQogICAgICB9LCA1MDApOwoKICAgICAgLy8g6K6+572u6LaF5pe277yM6Ziy5q2i5peg6ZmQ562J5b6FCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tHb29nbGVNYXBzTG9hZGVkKTsKICAgICAgICBpZiAoIXdpbmRvdy5nb29nbGUgfHwgIXdpbmRvdy5nb29nbGUubWFwcykgewogICAgICAgICAgdGhpcy5tYXBFcnJvciA9ICdHb29nbGUgTWFwcyBBUEkgZmFpbGVkIHRvIGxvYWQuIEF0dGVtcHRpbmcgdG8gbG9hZCBkaXJlY3RseS4uLic7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgTWFwcyBBUEkgbG9hZCB0aW1lb3V0LCBhdHRlbXB0aW5nIGRpcmVjdCBsb2FkJyk7CgogICAgICAgICAgLy8g5aSH55So5pa55qGI77ya55u05o6l5Yqg6L29CiAgICAgICAgICBjb25zdCBhcGlLZXkgPSB3aW5kb3cuR09PR0xFX01BUFNfQVBJX0tFWSB8fCAnQUl6YVN5QnE3QmgtUXE3Y1Nzc3h6d2hXeGRoRFhKSk1Ub2J0MGlJJzsKICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgc2NyaXB0LnNyYyA9IGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PSR7YXBpS2V5fSZsYW5ndWFnZT1lbiZyZWdpb249SUUmY2FsbGJhY2s9aW5pdEdvb2dsZU1hcGA7CiAgICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlOwogICAgICAgICAgc2NyaXB0LmRlZmVyID0gdHJ1ZTsKCiAgICAgICAgICAvLyDlhajlsYDlm57osIPlh73mlbAKICAgICAgICAgIHdpbmRvdy5pbml0R29vZ2xlTWFwID0gKCkgPT4gewogICAgICAgICAgICB0aGlzLmluaXRNYXAoKTsKICAgICAgICAgIH07CiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgfQogICAgICB9LCA1MDAwKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDnp7vpmaTkuovku7bnm5HlkKwKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgdGhpcy5jaGVja0xvZ2luU3RhdHVzKTsKICAgIHRoaXMuJHJvb3QuJG9mZigndXNlci1sb2dnZWQtaW4nLCB0aGlzLmhhbmRsZVVzZXJMb2dpbik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0xvZ2luU3RhdHVzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgICBjb25zdCB1c2VyTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyTmFtZSIpOwogICAgICAgIGNvbnNvbGUubG9nKCJNYXAgY29tcG9uZW50IGNoZWNraW5nIGxvY2FsU3RvcmFnZToiLCB7CiAgICAgICAgICB1c2VySWQsCiAgICAgICAgICB1c2VyTmFtZSwKICAgICAgICAgIHJhd1ZhbHVlczogewogICAgICAgICAgICB1c2VySWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwKICAgICAgICAgICAgdXNlck5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyTmFtZSIpCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCF1c2VySWQgfHwgIXVzZXJOYW1lKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiVXNlciBub3QgbG9nZ2VkIGluIG9yIGxvZ2luIGluZm9ybWF0aW9uIGluY29tcGxldGUiKTsKICAgICAgICAgIHRoaXMuY3VycmVudFVzZXJJZCA9IG51bGw7CiAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyTmFtZSA9IG51bGw7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuY3VycmVudFVzZXJJZCA9IHVzZXJJZDsKICAgICAgICB0aGlzLmN1cnJlbnRVc2VyTmFtZSA9IHVzZXJOYW1lOwogICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGxvZ2dlZCBpbjoiLCB7CiAgICAgICAgICBjdXJyZW50VXNlcklkOiB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgICBjdXJyZW50VXNlck5hbWU6IHRoaXMuY3VycmVudFVzZXJOYW1lCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgY2hlY2tpbmcgbG9naW4gc3RhdHVzOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpbml0TWFwKCkgewogICAgICBjb25zdCBtYXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFwIik7CiAgICAgIGlmICghbWFwQ29udGFpbmVyKSB7CiAgICAgICAgdGhpcy5tYXBFcnJvciA9ICdNYXAgY29udGFpbmVyIG5vdCBmb3VuZCc7CiAgICAgICAgY29uc29sZS5lcnJvcigiTWFwIGNvbnRhaW5lciBub3QgZm91bmQhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgLy8g5Yib5bu66Ieq5a6a5LmJ55qE5Zyw5Zu+57G75Z6L5o6n5Lu2CiAgICAgICAgY29uc3QgY3VzdG9tTWFwVHlwZUNvbnRyb2xEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBjdXN0b21NYXBUeXBlQ29udHJvbERpdi5jbGFzc05hbWUgPSAnY3VzdG9tLW1hcC10eXBlLWNvbnRyb2wnOwogICAgICAgIGN1c3RvbU1hcFR5cGVDb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSAnNXB4JzsKICAgICAgICBjdXN0b21NYXBUeXBlQ29udHJvbERpdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIGN1c3RvbU1hcFR5cGVDb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7CiAgICAgICAgY3VzdG9tTWFwVHlwZUNvbnRyb2xEaXYuc3R5bGUuYm94U2hhZG93ID0gJzAgMXB4IDRweCByZ2JhKDAsMCwwLDAuMyknOwogICAgICAgIGN1c3RvbU1hcFR5cGVDb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9ICcycHgnOwogICAgICAgIGN1c3RvbU1hcFR5cGVDb250cm9sRGl2LnN0eWxlLm1hcmdpbiA9ICcxMHB4JzsKICAgICAgICBjdXN0b21NYXBUeXBlQ29udHJvbERpdi5zdHlsZS56SW5kZXggPSAnMSc7CgogICAgICAgIC8vIOWIm+W7uuWcsOWbvuaMiemSrgogICAgICAgIGNvbnN0IG1hcEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hcEJ1dHRvbi50ZXh0Q29udGVudCA9ICdNYXAnOwogICAgICAgIG1hcEJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gJzhweCAxNnB4JzsKICAgICAgICBtYXBCdXR0b24uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwogICAgICAgIG1hcEJ1dHRvbi5zdHlsZS5mb250RmFtaWx5ID0gJ0FyaWFsLCBzYW5zLXNlcmlmJzsKICAgICAgICBtYXBCdXR0b24uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsKICAgICAgICBtYXBCdXR0b24uc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICAgICAgbWFwQnV0dG9uLnN0eWxlLmNvbG9yID0gJyM2NjYnOwogICAgICAgIG1hcEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgdGhpcy5tYXAuc2V0TWFwVHlwZUlkKCdyb2FkbWFwJyk7CiAgICAgICAgICBtYXBCdXR0b24uc3R5bGUuY29sb3IgPSAnIzFhNzNlOCc7CiAgICAgICAgICBzYXRlbGxpdGVCdXR0b24uc3R5bGUuY29sb3IgPSAnIzY2Nic7CiAgICAgICAgfTsKCiAgICAgICAgLy8g5Yib5bu65Y2r5pif5oyJ6ZKuCiAgICAgICAgY29uc3Qgc2F0ZWxsaXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgc2F0ZWxsaXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdGVsbGl0ZSc7CiAgICAgICAgc2F0ZWxsaXRlQnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnOHB4IDE2cHgnOwogICAgICAgIHNhdGVsbGl0ZUJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgICAgc2F0ZWxsaXRlQnV0dG9uLnN0eWxlLmZvbnRGYW1pbHkgPSAnQXJpYWwsIHNhbnMtc2VyaWYnOwogICAgICAgIHNhdGVsbGl0ZUJ1dHRvbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnOwogICAgICAgIHNhdGVsbGl0ZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JzsKICAgICAgICBzYXRlbGxpdGVCdXR0b24uc3R5bGUuY29sb3IgPSAnIzY2Nic7CiAgICAgICAgc2F0ZWxsaXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICB0aGlzLm1hcC5zZXRNYXBUeXBlSWQoJ3NhdGVsbGl0ZScpOwogICAgICAgICAgc2F0ZWxsaXRlQnV0dG9uLnN0eWxlLmNvbG9yID0gJyMxYTczZTgnOwogICAgICAgICAgbWFwQnV0dG9uLnN0eWxlLmNvbG9yID0gJyM2NjYnOwogICAgICAgIH07CgogICAgICAgIC8vIOa3u+WKoOaMiemSruWIsOaOp+S7tgogICAgICAgIGN1c3RvbU1hcFR5cGVDb250cm9sRGl2LmFwcGVuZENoaWxkKG1hcEJ1dHRvbik7CiAgICAgICAgY3VzdG9tTWFwVHlwZUNvbnRyb2xEaXYuYXBwZW5kQ2hpbGQoc2F0ZWxsaXRlQnV0dG9uKTsKCiAgICAgICAgLy8g5Yib5bu65Zyw5Zu+CiAgICAgICAgdGhpcy5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcENvbnRhaW5lciwgewogICAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICAgIGxhdDogNTMuNDEyOSwKICAgICAgICAgICAgbG5nOiAtOC4yNDM5CiAgICAgICAgICB9LAogICAgICAgICAgem9vbTogNywKICAgICAgICAgIGxhbmd1YWdlOiAnZW4nLAogICAgICAgICAgcmVnaW9uOiAnSUUnLAogICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLAogICAgICAgICAgLy8g5YWz6Zet6buY6K6k55qE5Zyw5Zu+57G75Z6L5o6n5Lu2CiAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSwKICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiB0cnVlLAogICAgICAgICAgZnVsbHNjcmVlbkNvbnRyb2w6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgLy8g5bCG6Ieq5a6a5LmJ5o6n5Lu25re75Yqg5Yiw5Zyw5Zu+5LiKCiAgICAgICAgdGhpcy5tYXAuY29udHJvbHNbZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLlRPUF9MRUZUXS5wdXNoKGN1c3RvbU1hcFR5cGVDb250cm9sRGl2KTsKICAgICAgICB0aGlzLmlzTWFwTG9hZGVkID0gdHJ1ZTsKICAgICAgICBpZiAodGhpcy5jYW50aW5kaXpoaSAmJiB0aGlzLmNhbnRpbmRpemhpLmxhdCAmJiB0aGlzLmNhbnRpbmRpemhpLmxuZykgewogICAgICAgICAgdGhpcy5hbmltYXRlUGFuVG8odGhpcy5jYW50aW5kaXpoaSk7CiAgICAgICAgfQogICAgICAgIHRoaXMubWFwLmFkZExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoKSA9PiB7CiAgICAgICAgICB0aGlzLnNob3dDdXN0b21JbmZvV2luZG93ID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5tYXAuYWRkTGlzdGVuZXIoJ3pvb21fY2hhbmdlZCcsICgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0N1c3RvbUluZm9XaW5kb3cgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLm1hcEVycm9yID0gJ01hcCBpbml0aWFsaXphdGlvbiBmYWlsZWQ6ICcgKyBlcnJvci5tZXNzYWdlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ01hcCBpbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhbmltYXRlUGFuVG8obG9jYXRpb24pIHsKICAgICAgaWYgKCFsb2NhdGlvbiB8fCAhdGhpcy5tYXApIHJldHVybjsKCiAgICAgIC8vIOa4hemZpOeOsOacieagh+iusAogICAgICB0aGlzLmNsZWFyTWFya2VycygpOwoKICAgICAgLy8g5Yib5bu65paw55qE5qCH6K6wCiAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICBsYXQ6IGxvY2F0aW9uLmxhdCwKICAgICAgICAgIGxuZzogbG9jYXRpb24ubG5nCiAgICAgICAgfSwKICAgICAgICBtYXA6IHRoaXMubWFwLAogICAgICAgIHRpdGxlOiBsb2NhdGlvbi5uYW1lIHx8ICJMb2NhdGlvbiIKICAgICAgfSk7CgogICAgICAvLyDliJvlu7rkv6Hmga/nqpflj6PnmoTopobnm5blsYIKICAgICAgY29uc3Qgb3ZlcmxheSA9IG5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldygpOwogICAgICBvdmVybGF5LmRyYXcgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgb3ZlcmxheS5zZXRNYXAodGhpcy5tYXApOwoKICAgICAgLy8g5re75Yqg5qCH6K6w54K55Ye75LqL5Lu2CiAgICAgIG1hcmtlci5hZGRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgY29uc3QgbWFya2VyUG9zaXRpb24gPSBtYXJrZXIuZ2V0UG9zaXRpb24oKTsKCiAgICAgICAgLy8g6K6h566X5L+h5oGv56qX5Y+j5L2N572uCiAgICAgICAgY29uc3QgY2FsY3VsYXRlUG9zaXRpb24gPSAoKSA9PiB7CiAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gb3ZlcmxheS5nZXRQcm9qZWN0aW9uKCk7CiAgICAgICAgICBjb25zdCBwb2ludCA9IHByb2plY3Rpb24uZnJvbUxhdExuZ1RvQ29udGFpbmVyUGl4ZWwobWFya2VyUG9zaXRpb24pOwogICAgICAgICAgY29uc29sZS5sb2coJ+mAieS4reeahOmkkOWOheS/oeaBrzonLCBsb2NhdGlvbik7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBsb2NhdGlvbjsKICAgICAgICAgIHRoaXMuc2hvd0N1c3RvbUluZm9XaW5kb3cgPSB0cnVlOwogICAgICAgICAgdGhpcy5hY3RpdmVUYWIgPSAnaW5mbyc7IC8vIOm7mOiupOaYvuekuuS/oeaBr+agh+etvumhtQogICAgICAgICAgdGhpcy5sb2FkQ29tbWVudHMoKTsgLy8g5Yqg6L296K+E6K66CiAgICAgICAgICAvLyDpooTliqDovb3oj5zljZXmlbDmja4KICAgICAgICAgIHRoaXMubG9hZE1lbnUoKTsKICAgICAgICB9OwoKICAgICAgICAvLyDnoa7kv53mipXlvbHlt7Llh4blpIflpb0KICAgICAgICBpZiAob3ZlcmxheS5nZXRQcm9qZWN0aW9uKCkpIHsKICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG92ZXJsYXkuYWRkTGlzdGVuZXIoJ2FkZCcsICgpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dChjYWxjdWxhdGVQb3NpdGlvbiwgMTAwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7CgogICAgICAvLyDlubPmu5Hnp7vliqjliLDmlrDkvY3nva4KICAgICAgdGhpcy5tYXAucGFuVG8oewogICAgICAgIGxhdDogbG9jYXRpb24ubGF0LAogICAgICAgIGxuZzogbG9jYXRpb24ubG5nCiAgICAgIH0pOwogICAgICB0aGlzLm1hcC5zZXRab29tKDE1KTsKICAgIH0sCiAgICBjbGVhck1hcmtlcnMoKSB7CiAgICAgIC8vIOa4hemZpOWcsOWbvuS4iueahOagh+iusAogICAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4gbWFya2VyLnNldE1hcChudWxsKSk7CiAgICAgIHRoaXMubWFya2VycyA9IFtdOwogICAgfSwKICAgIHJhdGVMb2NhdGlvbih2YWx1ZSkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbiB8fCAhdGhpcy5zZWxlY3RlZExvY2F0aW9uLmlkKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiQ2Fubm90IGdldCByZXN0YXVyYW50IGluZm9ybWF0aW9uIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJhdGUoewogICAgICAgIGlkOiB0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQsCiAgICAgICAgc2NvcmU6IHZhbHVlCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJSYXRpbmcgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgLy8gVXBkYXRlIHRoZSBzY29yZSB3aXRoIHRoZSBuZXcgYXZlcmFnZSBmcm9tIHRoZSByZXNwb25zZQogICAgICAgICAgaWYgKHJlcy5kYXRhICYmIHR5cGVvZiByZXMuZGF0YS5hdmVyYWdlUmF0aW5nID09PSAnbnVtYmVyJykgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24uc2NvcmUgPSByZXMuZGF0YS5hdmVyYWdlUmF0aW5nOwogICAgICAgICAgICAvLyBFbWl0IGV2ZW50IHRvIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50cwogICAgICAgICAgICB0aGlzLiRlbWl0KCdyYXRpbmctdXBkYXRlZCcsIHsKICAgICAgICAgICAgICByZXN0YXVyYW50SWQ6IHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCwKICAgICAgICAgICAgICBuZXdSYXRpbmc6IHJlcy5kYXRhLmF2ZXJhZ2VSYXRpbmcsCiAgICAgICAgICAgICAgdG90YWxSYXRpbmdzOiByZXMuZGF0YS50b3RhbFJhdGluZ3MKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyB8fCAiRmFpbGVkIHRvIHN1Ym1pdCByYXRpbmciKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCJSYXRpbmcgc3VibWlzc2lvbiBmYWlsZWQ6IiwgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIkZhaWxlZCB0byBzdWJtaXQgcmF0aW5nLCBwbGVhc2UgdHJ5IGFnYWluIik7CiAgICAgICAgdGhpcy5jdXJyZW50UmF0aW5nID0gMDsgLy8gUmVzZXQgdGhlIHJhdGluZwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkQ29tbWVudHMoKSB7CiAgICAgIGlmICghdGhpcy5zZWxlY3RlZExvY2F0aW9uIHx8ICF0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfml6Dms5XliqDovb3or4TorrrvvJrppJDljoVJROS4uuepuicsIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCfmraPlnKjliqDovb3or4TorrrvvIzppJDljoVJRDonLCB0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQpOwogICAgICBnZXRDb21tZW50cyh0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn6K+E6K665Yqg6L295ZON5bqUOicsIHJlcyk7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuY29tbWVudHMgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3or4TorrrlpLHotKXvvIzor6bnu4bplJnor6/vvJonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yqg6L296K+E6K665aSx6LSlJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHN1Ym1pdENvbW1lbnQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0aW5nIHRvIHN1Ym1pdCBjb21tZW50Iik7CiAgICAgIC8vIOW8uuWItumHjeaWsOajgOafpeeZu+W9leeKtuaAgQogICAgICBjb25zdCBpc0xvZ2dlZEluID0gdGhpcy5jaGVja0xvZ2luU3RhdHVzKCk7CiAgICAgIGNvbnNvbGUubG9nKCJMb2dpbiBzdGF0dXMgY2hlY2sgYmVmb3JlIGNvbW1lbnQ6IiwgewogICAgICAgIGlzTG9nZ2VkSW4sCiAgICAgICAgdXNlcklkOiB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgdXNlck5hbWU6IHRoaXMuY3VycmVudFVzZXJOYW1lCiAgICAgIH0pOwogICAgICBpZiAoIWlzTG9nZ2VkSW4pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIlBsZWFzZSBsb2dpbiBiZWZvcmUgY29tbWVudGluZyIpOwogICAgICAgIHRoaXMuc2hvd0xvZ2luRGlhbG9nID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkTG9jYXRpb24gfHwgIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygiUGxlYXNlIHNlbGVjdCBhIHJlc3RhdXJhbnQgZmlyc3QiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBjb21tZW50RGF0YSA9IHsKICAgICAgICAgIHVzZXJJZDogdGhpcy5jdXJyZW50VXNlcklkLAogICAgICAgICAgdXNlck5hbWU6IHRoaXMuY3VycmVudFVzZXJOYW1lLAogICAgICAgICAgcmVzdGF1cmFudElkOiB0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQsCiAgICAgICAgICBjb250ZW50OiB0aGlzLm5ld0NvbW1lbnQKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKCJDb21tZW50IGRhdGEgdG8gc3VibWl0OiIsIGNvbW1lbnREYXRhKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGRDb21tZW50KGNvbW1lbnREYXRhKTsKICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJDb21tZW50IHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHkhIik7CiAgICAgICAgICB0aGlzLm5ld0NvbW1lbnQgPSAiIjsKICAgICAgICAgIGF3YWl0IHRoaXMubG9hZENvbW1lbnRzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubXNnIHx8ICJGYWlsZWQgdG8gc3VibWl0IGNvbW1lbnQiKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiQ29tbWVudCBzdWJtaXNzaW9uIGZhaWxlZDoiLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnJvci5tZXNzYWdlIHx8ICJGYWlsZWQgdG8gc3VibWl0IGNvbW1lbnQsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIiKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUNvbW1lbnQoY29tbWVudElkKSB7CiAgICAgIGRlbGV0ZUNvbW1lbnQoY29tbWVudElkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgICB0aGlzLmxvYWRDb21tZW50cygpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOivhOiuuuWksei0pe+8micsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTor4TorrrlpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0VGltZSh0aW1lKSB7CiAgICAgIGlmICghdGltZSkgcmV0dXJuICcnOwogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZSk7CiAgICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyl9LSR7U3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpfSAke1N0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICB9LAogICAgaGFuZGxlSW1hZ2VFcnJvcihlKSB7CiAgICAgIGUudGFyZ2V0LnNyYyA9IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZ3MvaW1hZ2UucG5nJyk7CiAgICB9LAogICAgLy8g5aSE55CG55m75b2V5LqL5Lu2CiAgICBoYW5kbGVVc2VyTG9naW4odXNlckRhdGEpIHsKICAgICAgY29uc29sZS5sb2coIuWcsOWbvue7hOS7tuaUtuWIsOeZu+W9leS6i+S7tjoiLCB1c2VyRGF0YSk7CiAgICAgIHRoaXMuY3VycmVudFVzZXJJZCA9IHVzZXJEYXRhLnVzZXJJZDsKICAgICAgdGhpcy5jdXJyZW50VXNlck5hbWUgPSB1c2VyRGF0YS51c2VyTmFtZTsKICAgICAgY29uc29sZS5sb2coIuabtOaWsOWQjueahOeUqOaIt+eKtuaAgToiLCB7CiAgICAgICAgY3VycmVudFVzZXJJZDogdGhpcy5jdXJyZW50VXNlcklkLAogICAgICAgIGN1cnJlbnRVc2VyTmFtZTogdGhpcy5jdXJyZW50VXNlck5hbWUKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTG9naW5TdWNjZXNzKHVzZXJEYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCLnmbvlvZXmiJDlip86IiwgdXNlckRhdGEpOwogICAgICB0aGlzLmN1cnJlbnRVc2VySWQgPSB1c2VyRGF0YS51c2VySWQ7CiAgICAgIHRoaXMuY3VycmVudFVzZXJOYW1lID0gdXNlckRhdGEudXNlck5hbWU7CiAgICAgIGNvbnNvbGUubG9nKCLmm7TmlrDlkI7nmoTnlKjmiLfnirbmgIE6IiwgewogICAgICAgIGN1cnJlbnRVc2VySWQ6IHRoaXMuY3VycmVudFVzZXJJZCwKICAgICAgICBjdXJyZW50VXNlck5hbWU6IHRoaXMuY3VycmVudFVzZXJOYW1lCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWKoOi9veiPnOWNlQogICAgbG9hZE1lbnUoKSB7CiAgICAgIGlmICghdGhpcy5zZWxlY3RlZExvY2F0aW9uIHx8ICF0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfml6Dms5XliqDovb3oj5zljZXvvJrppJDljoVJROS4uuepuicsIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCfmraPlnKjliqDovb3oj5zljZXvvIzppJDljoVJRDonLCB0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWQpOwogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9tZW51L3Jlc3RhdXJhbnQvJHt0aGlzLnNlbGVjdGVkTG9jYXRpb24uaWR9YCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfoj5zljZXliqDovb3lk43lupQ6JywgcmVzLmRhdGEpOwogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMubWVudUl0ZW1zID0gcmVzLmRhdGEuZGF0YSB8fCBbXTsKICAgICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3nmoToj5zljZXpobk6JywgdGhpcy5tZW51SXRlbXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3oj5zljZXlpLHotKU6JywgcmVzLmRhdGEubXNnKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG1lbnUnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3oj5zljZXlpLHotKXvvIzor6bnu4bplJnor6/vvJonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRXJyb3IgbG9hZGluZyBtZW51Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiuoeeul+iPnOWNleWIhuexuwogICAgZ2V0SXRlbXNCeUNhdGVnb3J5KGNhdGVnb3J5KSB7CiAgICAgIHJldHVybiB0aGlzLm1lbnVJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7CiAgICB9LAogICAgZm9ybWF0Q29vcmRpbmF0ZXMobGF0LCBsbmcpIHsKICAgICAgaWYgKCFsYXQgfHwgIWxuZykgcmV0dXJuICdOL0EnOwogICAgICByZXR1cm4gYCR7bGF0LnRvRml4ZWQoNil9LCR7bG5nLnRvRml4ZWQoNil9YDsKICAgIH0sCiAgICBjb3B5Q29vcmRpbmF0ZXMobGF0LCBsbmcpIHsKICAgICAgaWYgKCFsYXQgfHwgIWxuZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygnTm8gdmFsaWQgY29vcmRpbmF0ZXMgdG8gY29weScpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBjb29yZFN0cmluZyA9IGAke2xhdC50b0ZpeGVkKDYpfSwke2xuZy50b0ZpeGVkKDYpfWA7CgogICAgICAvLyDlsJ3or5Xkvb/nlKjnjrDku6PliarotLTmnb9BUEkKICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29vcmRTdHJpbmcpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhgQ29vcmRpbmF0ZXMgY29waWVkOiAke2Nvb3JkU3RyaW5nfWApOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIC8vIOWkh+eUqOaWueazlQogICAgICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsKICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IGNvb3JkU3RyaW5nOwogICAgICAgIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gJy05OTk5OTlweCc7CiAgICAgICAgdGV4dEFyZWEuc3R5bGUudG9wID0gJy05OTk5OTlweCc7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7CiAgICAgICAgdGV4dEFyZWEuZm9jdXMoKTsKICAgICAgICB0ZXh0QXJlYS5zZWxlY3QoKTsKICAgICAgICB0cnkgewogICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhgQ29vcmRpbmF0ZXMgY29waWVkOiAke2Nvb3JkU3RyaW5nfWApOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRmFpbGVkIHRvIGNvcHkgY29vcmRpbmF0ZXMnKTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIEFkZCBsb2FkQ3VycmVudFJhdGluZyBtZXRob2QKICAgIGFzeW5jIGxvYWRDdXJyZW50UmF0aW5nKCkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbiB8fCAhdGhpcy5zZWxlY3RlZExvY2F0aW9uLmlkKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jdXJyZW50LXJhdGluZy8ke3RoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZH1gKTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5zY29yZSA9IHJlc3VsdC5hdmVyYWdlUmF0aW5nOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGN1cnJlbnQgcmF0aW5nOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdGYWlsZWQgdG8gcmVmcmVzaCByYXRpbmcnKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOaPkOWPluaJgOacieS4jemHjeWkjeeahOiPnOWNleWIhuexuwogICAgbWVudUNhdGVnb3JpZXMoKSB7CiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLm1lbnVJdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmNhdGVnb3J5KS5maWx0ZXIoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkpOyAvLyDov4fmu6TmjonnqbrlgLwKCiAgICAgIC8vIOi/lOWbnuWOu+mHjeWQjueahOWIhuexuwogICAgICByZXR1cm4gWy4uLm5ldyBTZXQoY2F0ZWdvcmllcyldOwogICAgfQogIH0KfTs="},{"version":3,"names":["rate","getComments","addComment","deleteComment","axios","Login","name","components","props","cantindizhi","type","Object","required","validator","value","lat","lng","data","map","markers","isMapLoaded","showCustomInfoWindow","selectedLocation","currentRating","comments","newComment","currentUserId","currentUserName","mapError","showLoginDialog","menuItems","activeTab","watch","handler","newVal","console","log","Number","score","animatePanTo","immediate","created","checkLoginStatus","window","addEventListener","$root","$on","handleUserLogin","mounted","google","maps","initMap","checkGoogleMapsLoaded","setInterval","clearInterval","setTimeout","error","apiKey","GOOGLE_MAPS_API_KEY","script","document","createElement","src","async","defer","initGoogleMap","head","appendChild","beforeDestroy","removeEventListener","$off","methods","userId","localStorage","getItem","userName","rawValues","mapContainer","getElementById","customMapTypeControlDiv","className","style","padding","display","backgroundColor","boxShadow","borderRadius","margin","zIndex","mapButton","textContent","cursor","fontFamily","fontWeight","fontSize","color","onclick","setMapTypeId","satelliteButton","Map","center","zoom","language","region","mapTypeControl","zoomControl","streetViewControl","fullscreenControl","controls","ControlPosition","TOP_LEFT","push","addListener","message","location","clearMarkers","marker","Marker","position","title","overlay","OverlayView","draw","setMap","markerPosition","getPosition","calculatePosition","projection","getProjection","point","fromLatLngToContainerPixel","loadComments","loadMenu","panTo","setZoom","forEach","rateLocation","id","$message","then","res","code","success","averageRating","$emit","restaurantId","newRating","totalRatings","msg","catch","submitComment","isLoggedIn","warning","commentData","content","result","Error","commentId","formatTime","time","date","Date","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","handleImageError","e","target","require","userData","handleLoginSuccess","get","getItemsByCategory","category","filter","item","formatCoordinates","toFixed","copyCoordinates","coordString","navigator","clipboard","writeText","err","textArea","left","top","body","focus","select","execCommand","removeChild","loadCurrentRating","response","computed","menuCategories","categories","Set"],"sources":["src/views/emergencyDispatch/gugeMap.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 地图容器 -->\n    <div id=\"map\" style=\"width: 100%; height: 100vh;\"></div>\n    <div v-if=\"mapError\" class=\"map-error\">\n      {{ mapError }}\n    </div>\n\n    <!-- 自定义弹窗 -->\n    <div v-if=\"showCustomInfoWindow\" class=\"custom-info-window\">\n      <div class=\"info-header\">\n        <h3>{{ selectedLocation.name || \"暂无信息\" }}</h3>\n        <span class=\"close-btn\" @click=\"showCustomInfoWindow = false\">&times;</span>\n      </div>\n      <div class=\"info-image\">\n        <img\n          :src=\"selectedLocation.image || require('@/assets/imgs/image.png')\"\n          :alt=\"selectedLocation.name\"\n          @error=\"handleImageError\"\n        >\n      </div>\n      \n      <!-- 标签页导航 -->\n      <div class=\"tab-navigation\">\n        <div \n          class=\"tab-item\" \n          :class=\"{ active: activeTab === 'info' }\"\n          @click=\"activeTab = 'info'\"\n        >\n          Restaurant Info\n        </div>\n        <div \n          class=\"tab-item\" \n          :class=\"{ active: activeTab === 'menu' }\"\n          @click=\"activeTab = 'menu'; loadMenu()\"\n        >\n          Menu\n        </div>\n        <div \n          class=\"tab-item\" \n          :class=\"{ active: activeTab === 'comments' }\"\n          @click=\"activeTab = 'comments'\"\n        >\n          Comments\n        </div>\n      </div>\n      \n      <!-- 餐厅信息标签页 -->\n      <div v-if=\"activeTab === 'info'\" class=\"info-content\">\n        <div class=\"info-item\">\n          <strong>Business Hours:</strong>\n          <span>{{ selectedLocation.businessHours || \"N/A\" }}</span>\n        </div>\n        <div class=\"info-item\">\n          <strong>Current Rating:</strong>\n          <el-rate\n            v-model=\"selectedLocation.score\"\n            disabled\n            show-score\n            text-color=\"#ff9900\"\n            score-template=\"{value} points\"\n          />\n        </div>\n        <div class=\"info-item\">\n          <strong>Location:</strong>\n          <span class=\"coordinates\">{{ formatCoordinates(selectedLocation.lat, selectedLocation.lng) }}</span>\n          <el-button \n            size=\"mini\" \n            type=\"primary\" \n            icon=\"el-icon-copy-document\" \n            @click=\"copyCoordinates(selectedLocation.lat, selectedLocation.lng)\"\n            circle\n            title=\"Copy coordinates\"\n          ></el-button>\n        </div>\n        <div class=\"rating-system\">\n          <strong>Rate this Restaurant:</strong>\n          <el-rate\n            v-model=\"currentRating\"\n            :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\n            @change=\"rateLocation\"\n            show-text\n            :texts=\"['Poor', 'Fair', 'Average', 'Good', 'Excellent']\"\n          />\n        </div>\n      </div>\n      \n      <!-- 菜单标签页 -->\n      <div v-if=\"activeTab === 'menu'\" class=\"menu-content\">\n        <div v-if=\"menuItems.length === 0\" class=\"menu-loading\">\n          <p>Loading menu items...</p>\n        </div>\n        <div v-else-if=\"menuItems.length > 0\" class=\"menu-items\">\n          <div v-for=\"category in menuCategories\" :key=\"category\" class=\"menu-category\">\n            <h4 class=\"category-title\">{{ category }}</h4>\n            <div v-for=\"item in getItemsByCategory(category)\" :key=\"item.id\" class=\"menu-item\">\n              <div class=\"menu-item-header\">\n                <span class=\"menu-item-name\">{{ item.name }}</span>\n                <span class=\"menu-item-price\">€{{ Number(item.price).toFixed(2) }}</span>\n              </div>\n              <p class=\"menu-item-description\">{{ item.description || 'No description available' }}</p>\n              <div v-if=\"item.image\" class=\"menu-item-image\">\n                <img :src=\"item.image\" :alt=\"item.name\" @error=\"handleImageError\">\n              </div>\n              <el-tag \n                size=\"mini\" \n                :type=\"item.isAvailable ? 'success' : 'danger'\"\n                class=\"menu-item-status\"\n              >\n                {{ item.isAvailable ? 'Available' : 'Not Available' }}\n              </el-tag>\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"no-menu\">\n          <p>No menu items available for this restaurant</p>\n        </div>\n      </div>\n      \n      <!-- 评论标签页 -->\n      <div v-if=\"activeTab === 'comments'\" class=\"comments-section\">\n        <h4>Comments</h4>\n        <!-- Add Comment -->\n        <div class=\"add-comment\">\n          <el-input\n            v-model=\"newComment\"\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"Write your comment...\"\n          />\n          <el-button \n            type=\"primary\" \n            size=\"small\" \n            @click=\"submitComment\"\n            :disabled=\"!newComment.trim()\"\n          >Post Comment</el-button>\n        </div>\n        <!-- Comments List -->\n        <div class=\"comments-list\" v-if=\"comments.length > 0\">\n          <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment-item\">\n            <div class=\"comment-header\">\n              <span class=\"username\">{{ comment.userName }}</span>\n              <span class=\"time\">{{ formatTime(comment.createTime) }}</span>\n              <el-button \n                v-if=\"comment.userId === currentUserId\" \n                type=\"text\" \n                size=\"mini\"\n                @click=\"deleteComment(comment.id)\"\n              >Delete</el-button>\n            </div>\n            <div class=\"comment-content\">{{ comment.content }}</div>\n          </div>\n        </div>\n        <div v-else class=\"no-comments\">No comments yet</div>\n      </div>\n    </div>\n\n    <!-- Login Dialog -->\n    <el-dialog\n      title=\"Login\"\n      :visible.sync=\"showLoginDialog\"\n      width=\"400px\"\n      @close=\"showLoginDialog = false\"\n    >\n      <Login @close=\"showLoginDialog = false\" @login-success=\"handleLoginSuccess\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { rate, getComments, addComment, deleteComment } from '@/api'\nimport axios from 'axios'\nimport Login from '../Login.vue'\n\nexport default {\n  name: \"GoogleMap\",\n  components: {\n    Login\n  },\n  props: {\n    cantindizhi: {\n      type: Object,\n      required: true,\n      validator: (value) => {\n        return value && typeof value.lat === 'number' && typeof value.lng === 'number';\n      }\n    }\n  },\n  data() {\n    return {\n      map: null, // 地图实例\n      markers: [], // 当前标记数组\n      isMapLoaded: false, // 用于标记地图是否加载完成\n      showCustomInfoWindow: false, // 控制自定义弹窗显示\n      selectedLocation: {}, // 当前选中的位置信息\n      currentRating: 0, // 当前评分\n      comments: [],\n      newComment: '',\n      currentUserId: null,\n      currentUserName: null,\n      mapError: null,\n      showLoginDialog: false,\n      menuItems: [], // 存储菜单项\n      activeTab: 'info' // 控制当前激活的标签页\n    };\n  },\n  watch: {\n    cantindizhi: {\n      handler(newVal) {\n        console.log(newVal, \"newVal\");\n        if (this.isMapLoaded && newVal && newVal.lat && newVal.lng) {\n          newVal.lat = Number(newVal.lat)\n          newVal.lng = Number(newVal.lng)\n          newVal.score = Number(newVal.score)\n          this.animatePanTo(newVal); // 使用动画平移到位置\n        }\n      },\n      immediate: true, // 初始加载时也触发\n    },\n  },\n  created() {\n    // 初始化时检查登录状态\n    this.checkLoginStatus();\n    \n    // 监听 storage 事件，当本地存储变化时更新登录状态\n    window.addEventListener('storage', this.checkLoginStatus);\n    \n    // 监听自定义事件\n    this.$root.$on('user-logged-in', this.handleUserLogin);\n  },\n  mounted() {\n    this.checkLoginStatus();\n    \n    // 修改 Google Maps API 加载方式\n    if (window.google && window.google.maps) {\n      this.initMap();\n    } else {\n      // 如果Google Maps API尚未加载，添加错误消息\n      this.mapError = 'Google Maps API loading...';\n      console.log('Google Maps API not loaded, waiting for load from index.html');\n      \n      // 创建一个轮询检查Maps API是否加载完成\n      const checkGoogleMapsLoaded = setInterval(() => {\n        if (window.google && window.google.maps) {\n          clearInterval(checkGoogleMapsLoaded);\n          this.initMap();\n          console.log('Google Maps API loaded successfully');\n        }\n      }, 500);\n      \n      // 设置超时，防止无限等待\n      setTimeout(() => {\n        clearInterval(checkGoogleMapsLoaded);\n        if (!window.google || !window.google.maps) {\n          this.mapError = 'Google Maps API failed to load. Attempting to load directly...';\n          console.error('Google Maps API load timeout, attempting direct load');\n          \n          // 备用方案：直接加载\n          const apiKey = window.GOOGLE_MAPS_API_KEY || 'AIzaSyBq7Bh-Qq7cSssxzwhWxdhDXJJMTobt0iI';\n          const script = document.createElement('script');\n          script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&language=en&region=IE&callback=initGoogleMap`;\n          script.async = true;\n          script.defer = true;\n          \n          // 全局回调函数\n          window.initGoogleMap = () => {\n            this.initMap();\n          };\n          \n          document.head.appendChild(script);\n        }\n      }, 5000);\n    }\n  },\n  beforeDestroy() {\n    // 移除事件监听\n    window.removeEventListener('storage', this.checkLoginStatus);\n    this.$root.$off('user-logged-in', this.handleUserLogin);\n  },\n  methods: {\n    checkLoginStatus() {\n      try {\n        const userId = localStorage.getItem(\"userId\");\n        const userName = localStorage.getItem(\"userName\");\n        \n        console.log(\"Map component checking localStorage:\", {\n          userId,\n          userName,\n          rawValues: {\n            userId: localStorage.getItem(\"userId\"),\n            userName: localStorage.getItem(\"userName\")\n          }\n        });\n        \n        if (!userId || !userName) {\n          console.log(\"User not logged in or login information incomplete\");\n          this.currentUserId = null;\n          this.currentUserName = null;\n          return false;\n        }\n\n        this.currentUserId = userId;\n        this.currentUserName = userName;\n        console.log(\"User logged in:\", { \n          currentUserId: this.currentUserId, \n          currentUserName: this.currentUserName \n        });\n        return true;\n      } catch (error) {\n        console.error(\"Error checking login status:\", error);\n        return false;\n      }\n    },\n    initMap() {\n      const mapContainer = document.getElementById(\"map\");\n      if (!mapContainer) {\n        this.mapError = 'Map container not found';\n        console.error(\"Map container not found!\");\n        return;\n      }\n\n      try {\n        // 创建自定义的地图类型控件\n        const customMapTypeControlDiv = document.createElement('div');\n        customMapTypeControlDiv.className = 'custom-map-type-control';\n        customMapTypeControlDiv.style.padding = '5px';\n        customMapTypeControlDiv.style.display = 'flex';\n        customMapTypeControlDiv.style.backgroundColor = 'white';\n        customMapTypeControlDiv.style.boxShadow = '0 1px 4px rgba(0,0,0,0.3)';\n        customMapTypeControlDiv.style.borderRadius = '2px';\n        customMapTypeControlDiv.style.margin = '10px';\n        customMapTypeControlDiv.style.zIndex = '1';\n        \n        // 创建地图按钮\n        const mapButton = document.createElement('div');\n        mapButton.textContent = 'Map';\n        mapButton.style.padding = '8px 16px';\n        mapButton.style.cursor = 'pointer';\n        mapButton.style.fontFamily = 'Arial, sans-serif';\n        mapButton.style.fontWeight = 'bold';\n        mapButton.style.fontSize = '14px';\n        mapButton.style.color = '#666';\n        mapButton.onclick = () => {\n          this.map.setMapTypeId('roadmap');\n          mapButton.style.color = '#1a73e8';\n          satelliteButton.style.color = '#666';\n        };\n        \n        // 创建卫星按钮\n        const satelliteButton = document.createElement('div');\n        satelliteButton.textContent = 'Satellite';\n        satelliteButton.style.padding = '8px 16px';\n        satelliteButton.style.cursor = 'pointer';\n        satelliteButton.style.fontFamily = 'Arial, sans-serif';\n        satelliteButton.style.fontWeight = 'bold';\n        satelliteButton.style.fontSize = '14px';\n        satelliteButton.style.color = '#666';\n        satelliteButton.onclick = () => {\n          this.map.setMapTypeId('satellite');\n          satelliteButton.style.color = '#1a73e8';\n          mapButton.style.color = '#666';\n        };\n        \n        // 添加按钮到控件\n        customMapTypeControlDiv.appendChild(mapButton);\n        customMapTypeControlDiv.appendChild(satelliteButton);\n        \n        // 创建地图\n        this.map = new google.maps.Map(mapContainer, {\n          center: { lat: 53.4129, lng: -8.2439 },\n          zoom: 7,\n          language: 'en',\n          region: 'IE',\n          mapTypeControl: false, // 关闭默认的地图类型控件\n          zoomControl: true,\n          streetViewControl: true,\n          fullscreenControl: true\n        });\n        \n        // 将自定义控件添加到地图上\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(customMapTypeControlDiv);\n\n        this.isMapLoaded = true;\n\n        if (this.cantindizhi && this.cantindizhi.lat && this.cantindizhi.lng) {\n          this.animatePanTo(this.cantindizhi);\n        }\n\n        this.map.addListener('dragstart', () => {\n          this.showCustomInfoWindow = false;\n        });\n\n        this.map.addListener('zoom_changed', () => {\n          this.showCustomInfoWindow = false;\n        });\n      } catch (error) {\n        this.mapError = 'Map initialization failed: ' + error.message;\n        console.error('Map initialization error:', error);\n      }\n    },\n    animatePanTo(location) {\n      if (!location || !this.map) return;\n\n      // 清除现有标记\n      this.clearMarkers();\n\n      // 创建新的标记\n      const marker = new google.maps.Marker({\n        position: { lat: location.lat, lng: location.lng },\n        map: this.map,\n        title: location.name || \"Location\"\n      });\n\n      // 创建信息窗口的覆盖层\n      const overlay = new google.maps.OverlayView();\n      overlay.draw = function() {};\n      overlay.setMap(this.map);\n\n      // 添加标记点击事件\n      marker.addListener(\"click\", () => {\n        const markerPosition = marker.getPosition();\n        \n        // 计算信息窗口位置\n        const calculatePosition = () => {\n          const projection = overlay.getProjection();\n          const point = projection.fromLatLngToContainerPixel(markerPosition);\n          \n          console.log('选中的餐厅信息:', location);\n          this.selectedLocation = location;\n          this.showCustomInfoWindow = true;\n          this.activeTab = 'info'; // 默认显示信息标签页\n          this.loadComments(); // 加载评论\n          // 预加载菜单数据\n          this.loadMenu();\n        };\n\n        // 确保投影已准备好\n        if (overlay.getProjection()) {\n          calculatePosition();\n        } else {\n          overlay.addListener('add', () => {\n            setTimeout(calculatePosition, 100);\n          });\n        }\n      });\n\n      this.markers.push(marker);\n\n      // 平滑移动到新位置\n      this.map.panTo({ lat: location.lat, lng: location.lng });\n      this.map.setZoom(15);\n    },\n    clearMarkers() {\n      // 清除地图上的标记\n      this.markers.forEach((marker) => marker.setMap(null));\n      this.markers = [];\n    },\n    rateLocation(value) {\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        this.$message.error(\"Cannot get restaurant information\");\n        return;\n      }\n      \n      rate({id: this.selectedLocation.id, score: value})\n        .then(res => {\n          if (res.code === 200) {\n            this.$message.success(\"Rating submitted successfully\");\n            // Update the score with the new average from the response\n            if (res.data && typeof res.data.averageRating === 'number') {\n              this.selectedLocation.score = res.data.averageRating;\n              // Emit event to update parent components\n              this.$emit('rating-updated', {\n                restaurantId: this.selectedLocation.id,\n                newRating: res.data.averageRating,\n                totalRatings: res.data.totalRatings\n              });\n            }\n          } else {\n            this.$message.error(res.msg || \"Failed to submit rating\");\n          }\n        })\n        .catch(error => {\n          console.error(\"Rating submission failed:\", error);\n          this.$message.error(\"Failed to submit rating, please try again\");\n          this.currentRating = 0; // Reset the rating\n        });\n    },\n    loadComments() {\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        console.error('无法加载评论：餐厅ID为空', this.selectedLocation);\n        return;\n      }\n      \n      console.log('正在加载评论，餐厅ID:', this.selectedLocation.id);\n      getComments(this.selectedLocation.id)\n        .then(res => {\n          console.log('评论加载响应:', res);\n          if (res.code === 200) {\n            this.comments = res.data;\n          }\n        })\n        .catch(error => {\n          console.error('加载评论失败，详细错误：', error);\n          this.$message.error('加载评论失败');\n        });\n    },\n    async submitComment() {\n      console.log(\"Attempting to submit comment\");\n      // 强制重新检查登录状态\n      const isLoggedIn = this.checkLoginStatus();\n      console.log(\"Login status check before comment:\", { isLoggedIn, userId: this.currentUserId, userName: this.currentUserName });\n      \n      if (!isLoggedIn) {\n        this.$message.warning(\"Please login before commenting\");\n        this.showLoginDialog = true;\n        return;\n      }\n\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        this.$message.warning(\"Please select a restaurant first\");\n        return;\n      }\n\n      try {\n        const commentData = {\n          userId: this.currentUserId,\n          userName: this.currentUserName,\n          restaurantId: this.selectedLocation.id,\n          content: this.newComment\n        };\n\n        console.log(\"Comment data to submit:\", commentData);\n        \n        const result = await addComment(commentData);\n        \n        if (result.code === 200) {\n          this.$message.success(\"Comment submitted successfully!\");\n          this.newComment = \"\";\n          await this.loadComments();\n        } else {\n          throw new Error(result.msg || \"Failed to submit comment\");\n        }\n      } catch (error) {\n        console.error(\"Comment submission failed:\", error);\n        this.$message.error(error.message || \"Failed to submit comment, please try again later\");\n      }\n    },\n    deleteComment(commentId) {\n      deleteComment(commentId)\n        .then(res => {\n          if (res.code === 200) {\n            this.$message.success('删除成功');\n            this.loadComments();\n          }\n        })\n        .catch(error => {\n          console.error('删除评论失败：', error);\n          this.$message.error('删除评论失败');\n        });\n    },\n    formatTime(time) {\n      if (!time) return '';\n      const date = new Date(time);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n    },\n    handleImageError(e) {\n      e.target.src = require('@/assets/imgs/image.png');\n    },\n    // 处理登录事件\n    handleUserLogin(userData) {\n      console.log(\"地图组件收到登录事件:\", userData);\n      this.currentUserId = userData.userId;\n      this.currentUserName = userData.userName;\n      console.log(\"更新后的用户状态:\", {\n        currentUserId: this.currentUserId,\n        currentUserName: this.currentUserName\n      });\n    },\n    handleLoginSuccess(userData) {\n      console.log(\"登录成功:\", userData);\n      this.currentUserId = userData.userId;\n      this.currentUserName = userData.userName;\n      console.log(\"更新后的用户状态:\", {\n        currentUserId: this.currentUserId,\n        currentUserName: this.currentUserName\n      });\n    },\n    // 加载菜单\n    loadMenu() {\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        console.error('无法加载菜单：餐厅ID为空', this.selectedLocation);\n        return;\n      }\n      \n      console.log('正在加载菜单，餐厅ID:', this.selectedLocation.id);\n      axios.get(`http://localhost:8080/menu/restaurant/${this.selectedLocation.id}`)\n        .then(res => {\n          console.log('菜单加载响应:', res.data);\n          if (res.data.code === 200) {\n            this.menuItems = res.data.data || [];\n            console.log('加载的菜单项:', this.menuItems);\n          } else {\n            console.error('加载菜单失败:', res.data.msg);\n            this.$message.error('Failed to load menu');\n          }\n        })\n        .catch(error => {\n          console.error('加载菜单失败，详细错误：', error);\n          this.$message.error('Error loading menu');\n        });\n    },\n    \n    // 计算菜单分类\n    getItemsByCategory(category) {\n      return this.menuItems.filter(item => item.category === category);\n    },\n    formatCoordinates(lat, lng) {\n      if (!lat || !lng) return 'N/A';\n      return `${lat.toFixed(6)},${lng.toFixed(6)}`;\n    },\n    copyCoordinates(lat, lng) {\n      if (!lat || !lng) {\n        this.$message.warning('No valid coordinates to copy');\n        return;\n      }\n      \n      const coordString = `${lat.toFixed(6)},${lng.toFixed(6)}`;\n      \n      // 尝试使用现代剪贴板API\n      navigator.clipboard.writeText(coordString)\n        .then(() => {\n          this.$message.success(`Coordinates copied: ${coordString}`);\n        })\n        .catch(err => {\n          // 备用方法\n          const textArea = document.createElement('textarea');\n          textArea.value = coordString;\n          textArea.style.position = 'fixed';\n          textArea.style.left = '-999999px';\n          textArea.style.top = '-999999px';\n          document.body.appendChild(textArea);\n          textArea.focus();\n          textArea.select();\n          \n          try {\n            document.execCommand('copy');\n            this.$message.success(`Coordinates copied: ${coordString}`);\n          } catch (err) {\n            this.$message.error('Failed to copy coordinates');\n          }\n          \n          document.body.removeChild(textArea);\n        });\n    },\n    // Add loadCurrentRating method\n    async loadCurrentRating() {\n      if (!this.selectedLocation || !this.selectedLocation.id) return;\n      \n      try {\n        const response = await axios.get(`http://localhost:8080/current-rating/${this.selectedLocation.id}`);\n        if (response.data.code === 200) {\n          const result = response.data.data;\n          this.selectedLocation.score = result.averageRating;\n        }\n      } catch (error) {\n        console.error('Error loading current rating:', error);\n        this.$message.error('Failed to refresh rating');\n      }\n    },\n  },\n  computed: {\n    // 提取所有不重复的菜单分类\n    menuCategories() {\n      const categories = this.menuItems\n        .map(item => item.category)\n        .filter(category => category); // 过滤掉空值\n      \n      // 返回去重后的分类\n      return [...new Set(categories)];\n    }\n  },\n};\n</script>\n\n<style scoped>\n/* 地图样式 */\n#map {\n  width: 100%;\n  height: 100vh;\n}\n\n.custom-info-window {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  width: 400px;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.info-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n  position: sticky;\n  top: 0;\n  background: white;\n  z-index: 1;\n}\n\n.info-header h3 {\n  margin: 0;\n  color: #333;\n}\n\n.close-btn {\n  cursor: pointer;\n  font-size: 24px;\n  color: #666;\n}\n\n.info-content {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.info-item {\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.rating-system {\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 1px solid #eee;\n}\n\n.info-image {\n  margin: -20px -20px 15px -20px;\n  overflow: hidden;\n  height: 150px;\n}\n\n.info-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n\n.comments-section {\n  margin-top: 20px;\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.comments-section h4 {\n  margin: 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.add-comment {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 15px;\n}\n\n.add-comment .el-button {\n  align-self: flex-end;\n  margin: 0;\n}\n\n.comments-list {\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.comment-item {\n  background: #f9f9f9;\n  border-radius: 8px;\n  padding: 12px;\n  margin: 0;\n}\n\n.comment-header {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 8px;\n}\n\n.username {\n  font-weight: 600;\n  color: #409EFF;\n  font-size: 14px;\n}\n\n.time {\n  font-size: 12px;\n  color: #999;\n  margin-left: auto;\n}\n\n.comment-content {\n  color: #333;\n  line-height: 1.5;\n  font-size: 14px;\n  word-break: break-all;\n  white-space: pre-wrap;\n}\n\n.no-comments {\n  text-align: center;\n  color: #999;\n  padding: 30px 0;\n  background: #f9f9f9;\n  border-radius: 8px;\n}\n\n.map-error {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(255, 0, 0, 0.8);\n  color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  z-index: 1000;\n}\n\n/* 调整 el-rate 的样式 */\n:deep(.el-rate) {\n  display: flex;\n  align-items: center;\n}\n\n:deep(.el-rate__text) {\n  margin-left: 10px;\n  font-size: 14px;\n  color: #666;\n}\n\n/* 标签页导航 */\n.tab-navigation {\n  display: flex;\n  border-bottom: 1px solid #eee;\n  margin-bottom: 15px;\n}\n\n.tab-item {\n  padding: 10px 15px;\n  cursor: pointer;\n  font-weight: 500;\n  color: #606266;\n  border-bottom: 2px solid transparent;\n  transition: all 0.3s;\n}\n\n.tab-item.active {\n  color: #409EFF;\n  border-bottom-color: #409EFF;\n}\n\n.tab-item:hover {\n  color: #409EFF;\n}\n\n/* 菜单样式 */\n.menu-content {\n  margin-top: 15px;\n}\n\n.menu-loading,\n.no-menu {\n  text-align: center;\n  color: #999;\n  padding: 20px 0;\n}\n\n.menu-category {\n  margin-bottom: 20px;\n}\n\n.category-title {\n  font-size: 18px;\n  color: #333;\n  margin-bottom: 10px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #eee;\n}\n\n.menu-item {\n  background: #f9f9f9;\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 10px;\n  position: relative;\n}\n\n.menu-item-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n}\n\n.menu-item-name {\n  font-weight: 600;\n  font-size: 16px;\n  color: #333;\n}\n\n.menu-item-price {\n  font-weight: 600;\n  color: #67c23a;\n}\n\n.menu-item-description {\n  color: #666;\n  font-size: 14px;\n  margin: 5px 0;\n}\n\n.menu-item-image {\n  margin-top: 10px;\n  height: 100px;\n  overflow: hidden;\n  border-radius: 4px;\n}\n\n.menu-item-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.menu-item-status {\n  margin-top: 8px;\n}\n\n.coordinates {\n  font-family: monospace;\n  background-color: #f5f7fa;\n  padding: 3px 6px;\n  border-radius: 4px;\n  border: 1px solid #e4e7ed;\n  margin-right: 8px;\n  font-size: 13px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}
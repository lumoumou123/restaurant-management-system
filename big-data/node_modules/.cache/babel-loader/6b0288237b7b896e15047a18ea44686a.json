{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\gugeMap.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\gugeMap.vue","mtime":1742863056448},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\babel.config.js","mtime":1725678814000},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyByYXRlLCBnZXRDb21tZW50cywgYWRkQ29tbWVudCwgZGVsZXRlQ29tbWVudCB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL0xvZ2luLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR29vZ2xlTWFwIiwKICBjb21wb25lbnRzOiB7CiAgICBMb2dpbgogIH0sCiAgcHJvcHM6IHsKICAgIGNhbnRpbmRpemhpOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHZhbGlkYXRvcjogdmFsdWUgPT4gewogICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGF0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubG5nID09PSAnbnVtYmVyJzsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcDogbnVsbCwKICAgICAgLy8g5Zyw5Zu+5a6e5L6LCiAgICAgIG1hcmtlcnM6IFtdLAogICAgICAvLyDlvZPliY3moIforrDmlbDnu4QKICAgICAgaXNNYXBMb2FkZWQ6IGZhbHNlLAogICAgICAvLyDnlKjkuo7moIforrDlnLDlm77mmK/lkKbliqDovb3lrozmiJAKICAgICAgc2hvd0N1c3RvbUluZm9XaW5kb3c6IGZhbHNlLAogICAgICAvLyDmjqfliLboh6rlrprkuYnlvLnnqpfmmL7npLoKICAgICAgc2VsZWN0ZWRMb2NhdGlvbjoge30sCiAgICAgIC8vIOW9k+WJjemAieS4reeahOS9jee9ruS/oeaBrwogICAgICBjdXJyZW50UmF0aW5nOiAwLAogICAgICAvLyDlvZPliY3or4TliIYKICAgICAgY29tbWVudHM6IFtdLAogICAgICBuZXdDb21tZW50OiAnJywKICAgICAgY3VycmVudFVzZXJJZDogbnVsbCwKICAgICAgY3VycmVudFVzZXJOYW1lOiBudWxsLAogICAgICBtYXBFcnJvcjogbnVsbCwKICAgICAgc2hvd0xvZ2luRGlhbG9nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjYW50aW5kaXpoaTogewogICAgICBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbCwgIm5ld1ZhbCIpOwogICAgICAgIGlmICh0aGlzLmlzTWFwTG9hZGVkICYmIG5ld1ZhbCAmJiBuZXdWYWwubGF0ICYmIG5ld1ZhbC5sbmcpIHsKICAgICAgICAgIG5ld1ZhbC5sYXQgPSBOdW1iZXIobmV3VmFsLmxhdCk7CiAgICAgICAgICBuZXdWYWwubG5nID0gTnVtYmVyKG5ld1ZhbC5sbmcpOwogICAgICAgICAgbmV3VmFsLnNjb3JlID0gTnVtYmVyKG5ld1ZhbC5zY29yZSk7CiAgICAgICAgICB0aGlzLmFuaW1hdGVQYW5UbyhuZXdWYWwpOyAvLyDkvb/nlKjliqjnlLvlubPnp7vliLDkvY3nva4KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSAvLyDliJ3lp4vliqDovb3ml7bkuZ/op6blj5EKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDliJ3lp4vljJbml7bmo4Dmn6XnmbvlvZXnirbmgIEKICAgIHRoaXMuY2hlY2tMb2dpblN0YXR1cygpOwoKICAgIC8vIOebkeWQrCBzdG9yYWdlIOS6i+S7tu+8jOW9k+acrOWcsOWtmOWCqOWPmOWMluaXtuabtOaWsOeZu+W9leeKtuaAgQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmNoZWNrTG9naW5TdGF0dXMpOwoKICAgIC8vIOebkeWQrOiHquWumuS5ieS6i+S7tgogICAgdGhpcy4kcm9vdC4kb24oJ3VzZXItbG9nZ2VkLWluJywgdGhpcy5oYW5kbGVVc2VyTG9naW4pOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hlY2tMb2dpblN0YXR1cygpOwoKICAgIC8vIOajgOafpUdvb2dsZSBNYXBzIEFQSeaYr+WQpuW3suWKoOi9vQogICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS5tYXBzKSB7CiAgICAgIHRoaXMuaW5pdE1hcCgpOwogICAgfSBlbHNlIHsKICAgICAgLy8g5aaC5p6cR29vZ2xlIE1hcHMgQVBJ5bCa5pyq5Yqg6L2977yM5re75Yqg6ZSZ6K+v5raI5oGvCiAgICAgIHRoaXMubWFwRXJyb3IgPSAnR29vZ2xlIE1hcHMgQVBJIGZhaWxlZCB0byBsb2FkJzsKICAgICAgY29uc29sZS5lcnJvcignR29vZ2xlIE1hcHMgQVBJIG5vdCBsb2FkZWQnKTsKCiAgICAgIC8vIOWwneivlemAmui/h+WKqOaAgea3u+WKoOiEmuacrOWKoOi9vQogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnNyYyA9ICdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUNlSGZEYV9mQk4yTko3VGo2OHpJOFhqSkdNd19LNWQxOCZjYWxsYmFjaz1pbml0R29vZ2xlTWFwJzsKICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgICAgc2NyaXB0LmRlZmVyID0gdHJ1ZTsKCiAgICAgIC8vIOWFqOWxgOWbnuiwg+WHveaVsAogICAgICB3aW5kb3cuaW5pdEdvb2dsZU1hcCA9ICgpID0+IHsKICAgICAgICB0aGlzLmluaXRNYXAoKTsKICAgICAgfTsKICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOenu+mZpOS6i+S7tuebkeWQrAogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmNoZWNrTG9naW5TdGF0dXMpOwogICAgdGhpcy4kcm9vdC4kb2ZmKCd1c2VyLWxvZ2dlZC1pbicsIHRoaXMuaGFuZGxlVXNlckxvZ2luKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrTG9naW5TdGF0dXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpOwogICAgICAgIGNvbnN0IHVzZXJOYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIik7CiAgICAgICAgY29uc29sZS5sb2coIk1hcCBjb21wb25lbnQgY2hlY2tpbmcgbG9jYWxTdG9yYWdlOiIsIHsKICAgICAgICAgIHVzZXJJZCwKICAgICAgICAgIHVzZXJOYW1lLAogICAgICAgICAgcmF3VmFsdWVzOiB7CiAgICAgICAgICAgIHVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICAgICAgICB1c2VyTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIikKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIXVzZXJJZCB8fCAhdXNlck5hbWUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIG5vdCBsb2dnZWQgaW4gb3IgbG9naW4gaW5mb3JtYXRpb24gaW5jb21wbGV0ZSIpOwogICAgICAgICAgdGhpcy5jdXJyZW50VXNlcklkID0gbnVsbDsKICAgICAgICAgIHRoaXMuY3VycmVudFVzZXJOYW1lID0gbnVsbDsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jdXJyZW50VXNlcklkID0gdXNlcklkOwogICAgICAgIHRoaXMuY3VycmVudFVzZXJOYW1lID0gdXNlck5hbWU7CiAgICAgICAgY29uc29sZS5sb2coIlVzZXIgbG9nZ2VkIGluOiIsIHsKICAgICAgICAgIGN1cnJlbnRVc2VySWQ6IHRoaXMuY3VycmVudFVzZXJJZCwKICAgICAgICAgIGN1cnJlbnRVc2VyTmFtZTogdGhpcy5jdXJyZW50VXNlck5hbWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBjaGVja2luZyBsb2dpbiBzdGF0dXM6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGluaXRNYXAoKSB7CiAgICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXAiKTsKICAgICAgaWYgKCFtYXBDb250YWluZXIpIHsKICAgICAgICB0aGlzLm1hcEVycm9yID0gJ01hcCBjb250YWluZXIgbm90IGZvdW5kJzsKICAgICAgICBjb25zb2xlLmVycm9yKCJNYXAgY29udGFpbmVyIG5vdCBmb3VuZCEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICB0aGlzLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwQ29udGFpbmVyLCB7CiAgICAgICAgICBjZW50ZXI6IHsKICAgICAgICAgICAgbGF0OiA1My40MTI5MSwKICAgICAgICAgICAgbG5nOiAtOC4yNDM4OQogICAgICAgICAgfSwKICAgICAgICAgIHpvb206IDcsCiAgICAgICAgICBzdHlsZXM6IFt7CiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiAicG9pIiwKICAgICAgICAgICAgZWxlbWVudFR5cGU6ICJsYWJlbHMiLAogICAgICAgICAgICBzdHlsZXJzOiBbewogICAgICAgICAgICAgIHZpc2liaWxpdHk6ICJvZmYiCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICAgIHRoaXMuaXNNYXBMb2FkZWQgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLmNhbnRpbmRpemhpICYmIHRoaXMuY2FudGluZGl6aGkubGF0ICYmIHRoaXMuY2FudGluZGl6aGkubG5nKSB7CiAgICAgICAgICB0aGlzLmFuaW1hdGVQYW5Ubyh0aGlzLmNhbnRpbmRpemhpKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5tYXAuYWRkTGlzdGVuZXIoJ2RyYWdzdGFydCcsICgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0N1c3RvbUluZm9XaW5kb3cgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLm1hcC5hZGRMaXN0ZW5lcignem9vbV9jaGFuZ2VkJywgKCkgPT4gewogICAgICAgICAgdGhpcy5zaG93Q3VzdG9tSW5mb1dpbmRvdyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMubWFwRXJyb3IgPSAnTWFwIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJyArIGVycm9yLm1lc3NhZ2U7CiAgICAgICAgY29uc29sZS5lcnJvcignTWFwIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFuaW1hdGVQYW5Ubyhsb2NhdGlvbikgewogICAgICBpZiAoIWxvY2F0aW9uIHx8ICF0aGlzLm1hcCkgcmV0dXJuOwoKICAgICAgLy8g5riF6Zmk546w5pyJ5qCH6K6wCiAgICAgIHRoaXMuY2xlYXJNYXJrZXJzKCk7CgogICAgICAvLyDliJvlu7rmlrDnmoTmoIforrAKICAgICAgY29uc3QgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgcG9zaXRpb246IHsKICAgICAgICAgIGxhdDogbG9jYXRpb24ubGF0LAogICAgICAgICAgbG5nOiBsb2NhdGlvbi5sbmcKICAgICAgICB9LAogICAgICAgIG1hcDogdGhpcy5tYXAsCiAgICAgICAgdGl0bGU6IGxvY2F0aW9uLm5hbWUgfHwgIkxvY2F0aW9uIgogICAgICB9KTsKCiAgICAgIC8vIOWIm+W7uuS/oeaBr+eql+WPo+eahOimhuebluWxggogICAgICBjb25zdCBvdmVybGF5ID0gbmV3IGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KCk7CiAgICAgIG92ZXJsYXkuZHJhdyA9IGZ1bmN0aW9uICgpIHt9OwogICAgICBvdmVybGF5LnNldE1hcCh0aGlzLm1hcCk7CgogICAgICAvLyDmt7vliqDmoIforrDngrnlh7vkuovku7YKICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICBjb25zdCBtYXJrZXJQb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpOwoKICAgICAgICAvLyDorqHnrpfkv6Hmga/nqpflj6PkvY3nva4KICAgICAgICBjb25zdCBjYWxjdWxhdGVQb3NpdGlvbiA9ICgpID0+IHsKICAgICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBvdmVybGF5LmdldFByb2plY3Rpb24oKTsKICAgICAgICAgIGNvbnN0IHBvaW50ID0gcHJvamVjdGlvbi5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbChtYXJrZXJQb3NpdGlvbik7CiAgICAgICAgICBjb25zb2xlLmxvZygn6YCJ5Lit55qE6aSQ5Y6F5L+h5oGvOicsIGxvY2F0aW9uKTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgICAgICAgdGhpcy5zaG93Q3VzdG9tSW5mb1dpbmRvdyA9IHRydWU7CiAgICAgICAgICB0aGlzLmxvYWRDb21tZW50cygpOyAvLyDliqDovb3or4TorroKICAgICAgICB9OwoKICAgICAgICAvLyDnoa7kv53mipXlvbHlt7Llh4blpIflpb0KICAgICAgICBpZiAob3ZlcmxheS5nZXRQcm9qZWN0aW9uKCkpIHsKICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG92ZXJsYXkuYWRkTGlzdGVuZXIoJ2FkZCcsICgpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dChjYWxjdWxhdGVQb3NpdGlvbiwgMTAwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7CgogICAgICAvLyDlubPmu5Hnp7vliqjliLDmlrDkvY3nva4KICAgICAgdGhpcy5tYXAucGFuVG8oewogICAgICAgIGxhdDogbG9jYXRpb24ubGF0LAogICAgICAgIGxuZzogbG9jYXRpb24ubG5nCiAgICAgIH0pOwogICAgICB0aGlzLm1hcC5zZXRab29tKDE1KTsKICAgIH0sCiAgICBjbGVhck1hcmtlcnMoKSB7CiAgICAgIC8vIOa4hemZpOWcsOWbvuS4iueahOagh+iusAogICAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4gbWFya2VyLnNldE1hcChudWxsKSk7CiAgICAgIHRoaXMubWFya2VycyA9IFtdOwogICAgfSwKICAgIHJhdGVMb2NhdGlvbih2YWx1ZSkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbiB8fCAhdGhpcy5zZWxlY3RlZExvY2F0aW9uLmlkKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5peg5rOV6I635Y+W6aSQ5Y6F5L+h5oGvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5zY29yZSA9IHZhbHVlOwogICAgICByYXRlKHsKICAgICAgICBpZDogdGhpcy5zZWxlY3RlZExvY2F0aW9uLmlkLAogICAgICAgIHNjb3JlOiB2YWx1ZQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLor4TliIbmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuivhOWIhuWksei0pe+8miIsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor4TliIblpLHotKXvvIzor7fph43or5UiKTsKICAgICAgICB0aGlzLmN1cnJlbnRSYXRpbmcgPSB0aGlzLnNlbGVjdGVkTG9jYXRpb24uc2NvcmUgfHwgMDsgLy8g5oGi5aSN5Y6f6K+E5YiGCiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRDb21tZW50cygpIHsKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkTG9jYXRpb24gfHwgIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aXoOazleWKoOi9veivhOiuuu+8mumkkOWOhUlE5Li656m6JywgdGhpcy5zZWxlY3RlZExvY2F0aW9uKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coJ+ato+WcqOWKoOi9veivhOiuuu+8jOmkkOWOhUlEOicsIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCk7CiAgICAgIGdldENvbW1lbnRzKHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfor4TorrrliqDovb3lk43lupQ6JywgcmVzKTsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5jb21tZW50cyA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veivhOiuuuWksei0pe+8jOivpue7humUmeivr++8micsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3or4TorrrlpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgc3VibWl0Q29tbWVudCgpIHsKICAgICAgY29uc29sZS5sb2coIkF0dGVtcHRpbmcgdG8gc3VibWl0IGNvbW1lbnQiKTsKICAgICAgLy8g5by65Yi26YeN5paw5qOA5p+l55m75b2V54q25oCBCiAgICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSB0aGlzLmNoZWNrTG9naW5TdGF0dXMoKTsKICAgICAgY29uc29sZS5sb2coIkxvZ2luIHN0YXR1cyBjaGVjayBiZWZvcmUgY29tbWVudDoiLCB7CiAgICAgICAgaXNMb2dnZWRJbiwKICAgICAgICB1c2VySWQ6IHRoaXMuY3VycmVudFVzZXJJZCwKICAgICAgICB1c2VyTmFtZTogdGhpcy5jdXJyZW50VXNlck5hbWUKICAgICAgfSk7CiAgICAgIGlmICghaXNMb2dnZWRJbikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygiUGxlYXNlIGxvZ2luIGJlZm9yZSBjb21tZW50aW5nIik7CiAgICAgICAgdGhpcy5zaG93TG9naW5EaWFsb2cgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRMb2NhdGlvbiB8fCAhdGhpcy5zZWxlY3RlZExvY2F0aW9uLmlkKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgcmVzdGF1cmFudCBmaXJzdCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIGNvbnN0IGNvbW1lbnREYXRhID0gewogICAgICAgICAgdXNlcklkOiB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgICB1c2VyTmFtZTogdGhpcy5jdXJyZW50VXNlck5hbWUsCiAgICAgICAgICBjYW50aW5nSWQ6IHRoaXMuc2VsZWN0ZWRMb2NhdGlvbi5pZCwKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMubmV3Q29tbWVudAogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coIkNvbW1lbnQgZGF0YSB0byBzdWJtaXQ6IiwgY29tbWVudERhdGEpOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkZENvbW1lbnQoY29tbWVudERhdGEpOwogICAgICAgIGlmIChyZXN1bHQuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIkNvbW1lbnQgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSEiKTsKICAgICAgICAgIHRoaXMubmV3Q29tbWVudCA9ICIiOwogICAgICAgICAgYXdhaXQgdGhpcy5sb2FkQ29tbWVudHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tc2cgfHwgIkZhaWxlZCB0byBzdWJtaXQgY29tbWVudCIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJDb21tZW50IHN1Ym1pc3Npb24gZmFpbGVkOiIsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1lc3NhZ2UgfHwgIkZhaWxlZCB0byBzdWJtaXQgY29tbWVudCwgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlciIpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ29tbWVudChjb21tZW50SWQpIHsKICAgICAgZGVsZXRlQ29tbWVudChjb21tZW50SWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgICAgIHRoaXMubG9hZENvbW1lbnRzKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk6K+E6K665aSx6LSl77yaJywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOivhOiuuuWksei0pScpOwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRUaW1lKHRpbWUpIHsKICAgICAgaWYgKCF0aW1lKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0tJHtTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyl9ICR7U3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgIH0sCiAgICBoYW5kbGVJbWFnZUVycm9yKGUpIHsKICAgICAgZS50YXJnZXQuc3JjID0gcmVxdWlyZSgnQC9hc3NldHMvaW1ncy9pbWFnZS5wbmcnKTsKICAgIH0sCiAgICAvLyDlpITnkIbnmbvlvZXkuovku7YKICAgIGhhbmRsZVVzZXJMb2dpbih1c2VyRGF0YSkgewogICAgICBjb25zb2xlLmxvZygi5Zyw5Zu+57uE5Lu25pS25Yiw55m75b2V5LqL5Lu2OiIsIHVzZXJEYXRhKTsKICAgICAgdGhpcy5jdXJyZW50VXNlcklkID0gdXNlckRhdGEudXNlcklkOwogICAgICB0aGlzLmN1cnJlbnRVc2VyTmFtZSA9IHVzZXJEYXRhLnVzZXJOYW1lOwogICAgICBjb25zb2xlLmxvZygi5pu05paw5ZCO55qE55So5oi354q25oCBOiIsIHsKICAgICAgICBjdXJyZW50VXNlcklkOiB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgY3VycmVudFVzZXJOYW1lOiB0aGlzLmN1cnJlbnRVc2VyTmFtZQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVMb2dpblN1Y2Nlc3ModXNlckRhdGEpIHsKICAgICAgY29uc29sZS5sb2coIueZu+W9leaIkOWKnzoiLCB1c2VyRGF0YSk7CiAgICAgIHRoaXMuY3VycmVudFVzZXJJZCA9IHVzZXJEYXRhLnVzZXJJZDsKICAgICAgdGhpcy5jdXJyZW50VXNlck5hbWUgPSB1c2VyRGF0YS51c2VyTmFtZTsKICAgICAgY29uc29sZS5sb2coIuabtOaWsOWQjueahOeUqOaIt+eKtuaAgToiLCB7CiAgICAgICAgY3VycmVudFVzZXJJZDogdGhpcy5jdXJyZW50VXNlcklkLAogICAgICAgIGN1cnJlbnRVc2VyTmFtZTogdGhpcy5jdXJyZW50VXNlck5hbWUKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["rate","getComments","addComment","deleteComment","axios","Login","name","components","props","cantindizhi","type","Object","required","validator","value","lat","lng","data","map","markers","isMapLoaded","showCustomInfoWindow","selectedLocation","currentRating","comments","newComment","currentUserId","currentUserName","mapError","showLoginDialog","watch","handler","newVal","console","log","Number","score","animatePanTo","immediate","created","checkLoginStatus","window","addEventListener","$root","$on","handleUserLogin","mounted","google","maps","initMap","error","script","document","createElement","src","async","defer","initGoogleMap","head","appendChild","beforeDestroy","removeEventListener","$off","methods","userId","localStorage","getItem","userName","rawValues","mapContainer","getElementById","Map","center","zoom","styles","featureType","elementType","stylers","visibility","addListener","message","location","clearMarkers","marker","Marker","position","title","overlay","OverlayView","draw","setMap","markerPosition","getPosition","calculatePosition","projection","getProjection","point","fromLatLngToContainerPixel","loadComments","setTimeout","push","panTo","setZoom","forEach","rateLocation","id","$message","then","res","success","catch","code","submitComment","isLoggedIn","warning","commentData","cantingId","content","result","Error","msg","commentId","formatTime","time","date","Date","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","handleImageError","e","target","require","userData","handleLoginSuccess"],"sources":["src/views/emergencyDispatch/gugeMap.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 地图容器 -->\n    <div id=\"map\" style=\"width: 100%; height: 100vh;\"></div>\n    <div v-if=\"mapError\" class=\"map-error\">\n      {{ mapError }}\n    </div>\n\n    <!-- 自定义弹窗 -->\n    <div v-if=\"showCustomInfoWindow\" class=\"custom-info-window\">\n      <div class=\"info-header\">\n        <h3>{{ selectedLocation.name || \"暂无信息\" }}</h3>\n        <span class=\"close-btn\" @click=\"showCustomInfoWindow = false\">&times;</span>\n      </div>\n      <div class=\"info-image\">\n        <img\n          :src=\"selectedLocation.image || require('@/assets/imgs/image.png')\"\n          :alt=\"selectedLocation.name\"\n          @error=\"handleImageError\"\n        >\n      </div>\n      <div class=\"info-content\">\n        <div class=\"info-item\">\n          <strong>Business Hours:</strong>\n          <span>{{ selectedLocation.businessHours || \"N/A\" }}</span>\n        </div>\n        <div class=\"info-item\">\n          <strong>Current Rating:</strong>\n          <el-rate\n            v-model=\"selectedLocation.score\"\n            disabled\n            show-score\n            text-color=\"#ff9900\"\n            score-template=\"{value} points\"\n          />\n        </div>\n        <div class=\"rating-system\">\n          <strong>Rate this Restaurant:</strong>\n          <el-rate\n            v-model=\"currentRating\"\n            :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\n            @change=\"rateLocation\"\n            show-text\n            :texts=\"['Poor', 'Fair', 'Average', 'Good', 'Excellent']\"\n          />\n        </div>\n\n        <!-- Comments Section -->\n        <div class=\"comments-section\">\n          <h4>Comments</h4>\n          <!-- Add Comment -->\n          <div class=\"add-comment\">\n            <el-input\n              v-model=\"newComment\"\n              type=\"textarea\"\n              :rows=\"2\"\n              placeholder=\"Write your comment...\"\n            />\n            <el-button \n              type=\"primary\" \n              size=\"small\" \n              @click=\"submitComment\"\n              :disabled=\"!newComment.trim()\"\n            >Post Comment</el-button>\n          </div>\n          <!-- Comments List -->\n          <div class=\"comments-list\" v-if=\"comments.length > 0\">\n            <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment-item\">\n              <div class=\"comment-header\">\n                <span class=\"username\">{{ comment.userName }}</span>\n                <span class=\"time\">{{ formatTime(comment.createTime) }}</span>\n                <el-button \n                  v-if=\"comment.userId === currentUserId\" \n                  type=\"text\" \n                  size=\"mini\"\n                  @click=\"deleteComment(comment.id)\"\n                >Delete</el-button>\n              </div>\n              <div class=\"comment-content\">{{ comment.content }}</div>\n            </div>\n          </div>\n          <div v-else class=\"no-comments\">No comments yet</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Login Dialog -->\n    <el-dialog\n      title=\"Login\"\n      :visible.sync=\"showLoginDialog\"\n      width=\"400px\"\n      @close=\"showLoginDialog = false\"\n    >\n      <Login @close=\"showLoginDialog = false\" @login-success=\"handleLoginSuccess\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { rate, getComments, addComment, deleteComment } from '@/api'\nimport axios from 'axios'\nimport Login from '../Login.vue'\n\nexport default {\n  name: \"GoogleMap\",\n  components: {\n    Login\n  },\n  props: {\n    cantindizhi: {\n      type: Object,\n      required: true,\n      validator: (value) => {\n        return value && typeof value.lat === 'number' && typeof value.lng === 'number';\n      }\n    }\n  },\n  data() {\n    return {\n      map: null, // 地图实例\n      markers: [], // 当前标记数组\n      isMapLoaded: false, // 用于标记地图是否加载完成\n      showCustomInfoWindow: false, // 控制自定义弹窗显示\n      selectedLocation: {}, // 当前选中的位置信息\n      currentRating: 0, // 当前评分\n      comments: [],\n      newComment: '',\n      currentUserId: null,\n      currentUserName: null,\n      mapError: null,\n      showLoginDialog: false\n    };\n  },\n  watch: {\n    cantindizhi: {\n      handler(newVal) {\n        console.log(newVal, \"newVal\");\n        if (this.isMapLoaded && newVal && newVal.lat && newVal.lng) {\n          newVal.lat = Number(newVal.lat)\n          newVal.lng = Number(newVal.lng)\n          newVal.score = Number(newVal.score)\n          this.animatePanTo(newVal); // 使用动画平移到位置\n        }\n      },\n      immediate: true, // 初始加载时也触发\n    },\n  },\n  created() {\n    // 初始化时检查登录状态\n    this.checkLoginStatus();\n    \n    // 监听 storage 事件，当本地存储变化时更新登录状态\n    window.addEventListener('storage', this.checkLoginStatus);\n    \n    // 监听自定义事件\n    this.$root.$on('user-logged-in', this.handleUserLogin);\n  },\n  mounted() {\n    this.checkLoginStatus();\n    \n    // 检查Google Maps API是否已加载\n    if (window.google && window.google.maps) {\n      this.initMap();\n    } else {\n      // 如果Google Maps API尚未加载，添加错误消息\n      this.mapError = 'Google Maps API failed to load';\n      console.error('Google Maps API not loaded');\n      \n      // 尝试通过动态添加脚本加载\n      const script = document.createElement('script');\n      script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCeHfDa_fBN2NJ7Tj68zI8XjJGMw_K5d18&callback=initGoogleMap';\n      script.async = true;\n      script.defer = true;\n      \n      // 全局回调函数\n      window.initGoogleMap = () => {\n        this.initMap();\n      };\n      \n      document.head.appendChild(script);\n    }\n  },\n  beforeDestroy() {\n    // 移除事件监听\n    window.removeEventListener('storage', this.checkLoginStatus);\n    this.$root.$off('user-logged-in', this.handleUserLogin);\n  },\n  methods: {\n    checkLoginStatus() {\n      try {\n        const userId = localStorage.getItem(\"userId\");\n        const userName = localStorage.getItem(\"userName\");\n        \n        console.log(\"Map component checking localStorage:\", {\n          userId,\n          userName,\n          rawValues: {\n            userId: localStorage.getItem(\"userId\"),\n            userName: localStorage.getItem(\"userName\")\n          }\n        });\n        \n        if (!userId || !userName) {\n          console.log(\"User not logged in or login information incomplete\");\n          this.currentUserId = null;\n          this.currentUserName = null;\n          return false;\n        }\n\n        this.currentUserId = userId;\n        this.currentUserName = userName;\n        console.log(\"User logged in:\", { \n          currentUserId: this.currentUserId, \n          currentUserName: this.currentUserName \n        });\n        return true;\n      } catch (error) {\n        console.error(\"Error checking login status:\", error);\n        return false;\n      }\n    },\n    initMap() {\n      const mapContainer = document.getElementById(\"map\");\n      if (!mapContainer) {\n        this.mapError = 'Map container not found';\n        console.error(\"Map container not found!\");\n        return;\n      }\n\n      try {\n        this.map = new google.maps.Map(mapContainer, {\n          center: { lat: 53.41291, lng: -8.24389 },\n          zoom: 7,\n          styles: [\n            {\n              featureType: \"poi\",\n              elementType: \"labels\",\n              stylers: [{ visibility: \"off\" }]\n            }\n          ]\n        });\n\n        this.isMapLoaded = true;\n\n        if (this.cantindizhi && this.cantindizhi.lat && this.cantindizhi.lng) {\n          this.animatePanTo(this.cantindizhi);\n        }\n\n        this.map.addListener('dragstart', () => {\n          this.showCustomInfoWindow = false;\n        });\n\n        this.map.addListener('zoom_changed', () => {\n          this.showCustomInfoWindow = false;\n        });\n      } catch (error) {\n        this.mapError = 'Map initialization failed: ' + error.message;\n        console.error('Map initialization error:', error);\n      }\n    },\n    animatePanTo(location) {\n      if (!location || !this.map) return;\n\n      // 清除现有标记\n      this.clearMarkers();\n\n      // 创建新的标记\n      const marker = new google.maps.Marker({\n        position: { lat: location.lat, lng: location.lng },\n        map: this.map,\n        title: location.name || \"Location\"\n      });\n\n      // 创建信息窗口的覆盖层\n      const overlay = new google.maps.OverlayView();\n      overlay.draw = function() {};\n      overlay.setMap(this.map);\n\n      // 添加标记点击事件\n      marker.addListener(\"click\", () => {\n        const markerPosition = marker.getPosition();\n        \n        // 计算信息窗口位置\n        const calculatePosition = () => {\n          const projection = overlay.getProjection();\n          const point = projection.fromLatLngToContainerPixel(markerPosition);\n          \n          console.log('选中的餐厅信息:', location);\n          this.selectedLocation = location;\n          this.showCustomInfoWindow = true;\n          this.loadComments(); // 加载评论\n        };\n\n        // 确保投影已准备好\n        if (overlay.getProjection()) {\n          calculatePosition();\n        } else {\n          overlay.addListener('add', () => {\n            setTimeout(calculatePosition, 100);\n          });\n        }\n      });\n\n      this.markers.push(marker);\n\n      // 平滑移动到新位置\n      this.map.panTo({ lat: location.lat, lng: location.lng });\n      this.map.setZoom(15);\n    },\n    clearMarkers() {\n      // 清除地图上的标记\n      this.markers.forEach((marker) => marker.setMap(null));\n      this.markers = [];\n    },\n    rateLocation(value) {\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        this.$message.error(\"无法获取餐厅信息\");\n        return;\n      }\n      \n      this.selectedLocation.score = value;\n      rate({id: this.selectedLocation.id, score: value})\n        .then(res => {\n          this.$message.success(\"评分成功\");\n        })\n        .catch(error => {\n          console.error(\"评分失败：\", error);\n          this.$message.error(\"评分失败，请重试\");\n          this.currentRating = this.selectedLocation.score || 0; // 恢复原评分\n        });\n    },\n    loadComments() {\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        console.error('无法加载评论：餐厅ID为空', this.selectedLocation);\n        return;\n      }\n      \n      console.log('正在加载评论，餐厅ID:', this.selectedLocation.id);\n      getComments(this.selectedLocation.id)\n        .then(res => {\n          console.log('评论加载响应:', res);\n          if (res.code === 200) {\n            this.comments = res.data;\n          }\n        })\n        .catch(error => {\n          console.error('加载评论失败，详细错误：', error);\n          this.$message.error('加载评论失败');\n        });\n    },\n    async submitComment() {\n      console.log(\"Attempting to submit comment\");\n      // 强制重新检查登录状态\n      const isLoggedIn = this.checkLoginStatus();\n      console.log(\"Login status check before comment:\", { isLoggedIn, userId: this.currentUserId, userName: this.currentUserName });\n      \n      if (!isLoggedIn) {\n        this.$message.warning(\"Please login before commenting\");\n        this.showLoginDialog = true;\n        return;\n      }\n\n      if (!this.selectedLocation || !this.selectedLocation.id) {\n        this.$message.warning(\"Please select a restaurant first\");\n        return;\n      }\n\n      try {\n        const commentData = {\n          userId: this.currentUserId,\n          userName: this.currentUserName,\n          cantingId: this.selectedLocation.id,\n          content: this.newComment\n        };\n\n        console.log(\"Comment data to submit:\", commentData);\n        \n        const result = await addComment(commentData);\n        \n        if (result.code === 200) {\n          this.$message.success(\"Comment submitted successfully!\");\n          this.newComment = \"\";\n          await this.loadComments();\n        } else {\n          throw new Error(result.msg || \"Failed to submit comment\");\n        }\n      } catch (error) {\n        console.error(\"Comment submission failed:\", error);\n        this.$message.error(error.message || \"Failed to submit comment, please try again later\");\n      }\n    },\n    deleteComment(commentId) {\n      deleteComment(commentId)\n        .then(res => {\n          if (res.code === 200) {\n            this.$message.success('删除成功');\n            this.loadComments();\n          }\n        })\n        .catch(error => {\n          console.error('删除评论失败：', error);\n          this.$message.error('删除评论失败');\n        });\n    },\n    formatTime(time) {\n      if (!time) return '';\n      const date = new Date(time);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n    },\n    handleImageError(e) {\n      e.target.src = require('@/assets/imgs/image.png');\n    },\n    // 处理登录事件\n    handleUserLogin(userData) {\n      console.log(\"地图组件收到登录事件:\", userData);\n      this.currentUserId = userData.userId;\n      this.currentUserName = userData.userName;\n      console.log(\"更新后的用户状态:\", {\n        currentUserId: this.currentUserId,\n        currentUserName: this.currentUserName\n      });\n    },\n    handleLoginSuccess(userData) {\n      console.log(\"登录成功:\", userData);\n      this.currentUserId = userData.userId;\n      this.currentUserName = userData.userName;\n      console.log(\"更新后的用户状态:\", {\n        currentUserId: this.currentUserId,\n        currentUserName: this.currentUserName\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 地图样式 */\n#map {\n  width: 100%;\n  height: 100vh;\n}\n\n.custom-info-window {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  width: 400px;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.info-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n  position: sticky;\n  top: 0;\n  background: white;\n  z-index: 1;\n}\n\n.info-header h3 {\n  margin: 0;\n  color: #333;\n}\n\n.close-btn {\n  cursor: pointer;\n  font-size: 24px;\n  color: #666;\n}\n\n.info-content {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.info-item {\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.rating-system {\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 1px solid #eee;\n}\n\n.info-image {\n  margin: -20px -20px 15px -20px;\n  overflow: hidden;\n  height: 150px;\n}\n\n.info-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n\n.comments-section {\n  margin-top: 20px;\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.comments-section h4 {\n  margin: 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.add-comment {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 15px;\n}\n\n.add-comment .el-button {\n  align-self: flex-end;\n  margin: 0;\n}\n\n.comments-list {\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.comment-item {\n  background: #f9f9f9;\n  border-radius: 8px;\n  padding: 12px;\n  margin: 0;\n}\n\n.comment-header {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 8px;\n}\n\n.username {\n  font-weight: 600;\n  color: #409EFF;\n  font-size: 14px;\n}\n\n.time {\n  font-size: 12px;\n  color: #999;\n  margin-left: auto;\n}\n\n.comment-content {\n  color: #333;\n  line-height: 1.5;\n  font-size: 14px;\n  word-break: break-all;\n  white-space: pre-wrap;\n}\n\n.no-comments {\n  text-align: center;\n  color: #999;\n  padding: 30px 0;\n  background: #f9f9f9;\n  border-radius: 8px;\n}\n\n.map-error {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(255, 0, 0, 0.8);\n  color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  z-index: 1000;\n}\n\n/* 调整 el-rate 的样式 */\n:deep(.el-rate) {\n  display: flex;\n  align-items: center;\n}\n\n:deep(.el-rate__text) {\n  margin-left: 10px;\n  font-size: 14px;\n  color: #666;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}
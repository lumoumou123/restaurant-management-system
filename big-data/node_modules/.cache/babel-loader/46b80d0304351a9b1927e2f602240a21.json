{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\utils\\auth.js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\utils\\auth.js","mtime":1743019128090},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\babel.config.js","mtime":1725678814000},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqDQogKiDorqTor4Hnm7jlhbPlt6Xlhbflh73mlbANCiAqLwoKY29uc3QgVE9LRU5fS0VZID0gJ3VzZXJUb2tlbic7CmNvbnN0IFVTRVJfSU5GT19LRVkgPSAndXNlckluZm8nOwoKLyoqDQogKiDojrflj5Z0b2tlbg0KICogQHJldHVybnMge3N0cmluZ3xudWxsfQ0KICovCmV4cG9ydCBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fS0VZKTsKfQoKLyoqDQogKiDorr7nva50b2tlbg0KICogQHBhcmFtIHtzdHJpbmd9IHRva2VuDQogKi8KZXhwb3J0IGZ1bmN0aW9uIHNldFRva2VuKHRva2VuKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRPS0VOX0tFWSwgdG9rZW4pOwp9CgovKioNCiAqIOenu+mZpHRva2VuDQogKi8KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9LRVkpOwp9CgovKioNCiAqIOS/neWtmOeUqOaIt+S/oeaBr+WIsGxvY2FsU3RvcmFnZQ0KICogQHBhcmFtIHtPYmplY3R9IHVzZXJJbmZvDQogKi8KZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVTRVJfSU5GT19LRVksIEpTT04uc3RyaW5naWZ5KHVzZXJJbmZvKSk7Cn0KCi8qKg0KICog6I635Y+W55So5oi35L+h5oGvDQogKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9DQogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogIGNvbnN0IHVzZXJJbmZvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVVNFUl9JTkZPX0tFWSk7CiAgcmV0dXJuIHVzZXJJbmZvID8gSlNPTi5wYXJzZSh1c2VySW5mbykgOiBudWxsOwp9CgovKioNCiAqIOa4hemZpOeUqOaIt+S/oeaBrw0KICovCmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVc2VySW5mbygpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9JTkZPX0tFWSk7Cn0KCi8qKg0KICog6YCA5Ye655m75b2VDQogKi8KZXhwb3J0IGZ1bmN0aW9uIGxvZ291dCgpIHsKICByZW1vdmVUb2tlbigpOwogIHJlbW92ZVVzZXJJbmZvKCk7Cn0KCi8qKg0KICog5qOA5p+l55So5oi35piv5ZCm5bey55m75b2VDQogKiBAcmV0dXJucyB7Ym9vbGVhbn0NCiAqLwpleHBvcnQgZnVuY3Rpb24gaXNMb2dnZWRJbigpIHsKICByZXR1cm4gISFnZXRUb2tlbigpICYmICEhZ2V0VXNlckluZm8oKTsKfQoKLyoqDQogKiDmo4Dmn6XnlKjmiLfmmK/lkKbmnInorr/pl67mn5DkuKrot6/nlLHnmoTmnYPpmZANCiAqIEBwYXJhbSB7QXJyYXl9IHJvbGVzIOWFgeiuuOiuv+mXrueahOinkuiJsuaVsOe7hA0KICogQHJldHVybnMge2Jvb2xlYW59DQogKi8KZXhwb3J0IGZ1bmN0aW9uIGhhc1Blcm1pc3Npb24ocm9sZXMpIHsKICBjb25zdCB1c2VySW5mbyA9IGdldFVzZXJJbmZvKCk7CiAgaWYgKCF1c2VySW5mbyB8fCAhdXNlckluZm8ucm9sZSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8g5aaC5p6c5rKh5pyJ5oyH5a6a6KeS6Imy6ZmQ5Yi277yM5YiZ5omA5pyJ55m75b2V55So5oi36YO95Y+v5Lul6K6/6ZeuCiAgaWYgKCFyb2xlcyB8fCByb2xlcy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8g5qOA5p+l55So5oi36KeS6Imy5piv5ZCm5Zyo5YWB6K6455qE6KeS6Imy5YiX6KGo5LitCiAgcmV0dXJuIHJvbGVzLmluY2x1ZGVzKHVzZXJJbmZvLnJvbGUpOwp9"},{"version":3,"names":["TOKEN_KEY","USER_INFO_KEY","getToken","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","setUserInfo","userInfo","JSON","stringify","getUserInfo","parse","removeUserInfo","logout","isLoggedIn","hasPermission","roles","role","length","includes"],"sources":["C:/Users/18167/Desktop/final year/big-data/src/utils/auth.js"],"sourcesContent":["/**\r\n * 认证相关工具函数\r\n */\r\n\r\nconst TOKEN_KEY = 'userToken'\r\nconst USER_INFO_KEY = 'userInfo'\r\n\r\n/**\r\n * 获取token\r\n * @returns {string|null}\r\n */\r\nexport function getToken() {\r\n  return localStorage.getItem(TOKEN_KEY)\r\n}\r\n\r\n/**\r\n * 设置token\r\n * @param {string} token\r\n */\r\nexport function setToken(token) {\r\n  return localStorage.setItem(TOKEN_KEY, token)\r\n}\r\n\r\n/**\r\n * 移除token\r\n */\r\nexport function removeToken() {\r\n  return localStorage.removeItem(TOKEN_KEY)\r\n}\r\n\r\n/**\r\n * 保存用户信息到localStorage\r\n * @param {Object} userInfo\r\n */\r\nexport function setUserInfo(userInfo) {\r\n  return localStorage.setItem(USER_INFO_KEY, JSON.stringify(userInfo))\r\n}\r\n\r\n/**\r\n * 获取用户信息\r\n * @returns {Object|null}\r\n */\r\nexport function getUserInfo() {\r\n  const userInfo = localStorage.getItem(USER_INFO_KEY)\r\n  return userInfo ? JSON.parse(userInfo) : null\r\n}\r\n\r\n/**\r\n * 清除用户信息\r\n */\r\nexport function removeUserInfo() {\r\n  return localStorage.removeItem(USER_INFO_KEY)\r\n}\r\n\r\n/**\r\n * 退出登录\r\n */\r\nexport function logout() {\r\n  removeToken()\r\n  removeUserInfo()\r\n}\r\n\r\n/**\r\n * 检查用户是否已登录\r\n * @returns {boolean}\r\n */\r\nexport function isLoggedIn() {\r\n  return !!getToken() && !!getUserInfo()\r\n}\r\n\r\n/**\r\n * 检查用户是否有访问某个路由的权限\r\n * @param {Array} roles 允许访问的角色数组\r\n * @returns {boolean}\r\n */\r\nexport function hasPermission(roles) {\r\n  const userInfo = getUserInfo()\r\n  if (!userInfo || !userInfo.role) {\r\n    return false\r\n  }\r\n  \r\n  // 如果没有指定角色限制，则所有登录用户都可以访问\r\n  if (!roles || roles.length === 0) {\r\n    return true\r\n  }\r\n  \r\n  // 检查用户角色是否在允许的角色列表中\r\n  return roles.includes(userInfo.role)\r\n} "],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,SAAS,GAAG,WAAW;AAC7B,MAAMC,aAAa,GAAG,UAAU;;AAEhC;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,OAAOC,YAAY,CAACC,OAAO,CAACJ,SAAS,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASK,QAAQA,CAACC,KAAK,EAAE;EAC9B,OAAOH,YAAY,CAACI,OAAO,CAACP,SAAS,EAAEM,KAAK,CAAC;AAC/C;;AAEA;AACA;AACA;AACA,OAAO,SAASE,WAAWA,CAAA,EAAG;EAC5B,OAAOL,YAAY,CAACM,UAAU,CAACT,SAAS,CAAC;AAC3C;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASU,WAAWA,CAACC,QAAQ,EAAE;EACpC,OAAOR,YAAY,CAACI,OAAO,CAACN,aAAa,EAAEW,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAC,CAAC;AACtE;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASG,WAAWA,CAAA,EAAG;EAC5B,MAAMH,QAAQ,GAAGR,YAAY,CAACC,OAAO,CAACH,aAAa,CAAC;EACpD,OAAOU,QAAQ,GAAGC,IAAI,CAACG,KAAK,CAACJ,QAAQ,CAAC,GAAG,IAAI;AAC/C;;AAEA;AACA;AACA;AACA,OAAO,SAASK,cAAcA,CAAA,EAAG;EAC/B,OAAOb,YAAY,CAACM,UAAU,CAACR,aAAa,CAAC;AAC/C;;AAEA;AACA;AACA;AACA,OAAO,SAASgB,MAAMA,CAAA,EAAG;EACvBT,WAAW,CAAC,CAAC;EACbQ,cAAc,CAAC,CAAC;AAClB;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASE,UAAUA,CAAA,EAAG;EAC3B,OAAO,CAAC,CAAChB,QAAQ,CAAC,CAAC,IAAI,CAAC,CAACY,WAAW,CAAC,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASK,aAAaA,CAACC,KAAK,EAAE;EACnC,MAAMT,QAAQ,GAAGG,WAAW,CAAC,CAAC;EAC9B,IAAI,CAACH,QAAQ,IAAI,CAACA,QAAQ,CAACU,IAAI,EAAE;IAC/B,OAAO,KAAK;EACd;;EAEA;EACA,IAAI,CAACD,KAAK,IAAIA,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;IAChC,OAAO,IAAI;EACb;;EAEA;EACA,OAAOF,KAAK,CAACG,QAAQ,CAACZ,QAAQ,CAACU,IAAI,CAAC;AACtC","ignoreList":[]}]}
{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\Menu.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\Menu.vue","mtime":1744632022756},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNZW51JywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVzdGF1cmFudHM6IFtdLA0KICAgICAgbWVudUl0ZW1zOiBbXSwNCiAgICAgIGZpbHRlcmVkTWVudUl0ZW1zOiBbXSwNCiAgICAgIHNlbGVjdGVkUmVzdGF1cmFudElkOiBudWxsLA0KICAgICAgY2F0ZWdvcnlGaWx0ZXI6ICcnLA0KICAgICAgZWRpdE1vZGU6IGZhbHNlLA0KICAgICAgbWVudUl0ZW1Gb3JtOiB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICByZXN0YXVyYW50SWQ6IG51bGwsDQogICAgICAgIG5hbWU6ICcnLA0KICAgICAgICBkZXNjcmlwdGlvbjogJycsDQogICAgICAgIHByaWNlOiAwLA0KICAgICAgICBjYXRlZ29yeTogJycsDQogICAgICAgIGltYWdlOiAnJywNCiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUNCiAgICAgIH0sDQogICAgICB1c2VyUm9sZTogJycsDQogICAgICB1c2VySWQ6IG51bGwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGF2YWlsYWJsZUNhdGVnb3JpZXMoKSB7DQogICAgICAvLyDmj5Dlj5bmiYDmnInkuI3ph43lpI3nmoTliIbnsbsNCiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLm1lbnVJdGVtcw0KICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS5jYXRlZ29yeSkNCiAgICAgICAgLmZpbHRlcihjYXRlZ29yeSA9PiBjYXRlZ29yeSk7IC8vIOi/h+a7pOaOieepuuWAvA0KICAgICAgDQogICAgICAvLyDov5Tlm57ljrvph43lkI7nmoTliIbnsbsNCiAgICAgIHJldHVybiBbLi4ubmV3IFNldChjYXRlZ29yaWVzKV07DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIC8vIOiOt+WPlueUqOaIt+S/oeaBrw0KICAgIHRoaXMudXNlclJvbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclJvbGUnKTsNCiAgICB0aGlzLnVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsNCiAgICANCiAgICAvLyDliqDovb3ppJDljoXliJfooagNCiAgICB0aGlzLmxvYWRSZXN0YXVyYW50cygpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgbG9hZFJlc3RhdXJhbnRzKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlc3BvbnNlOw0KICAgICAgICAvLyDojrflj5borqTor4Hkv6Hmga8NCiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsNCiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRva2VuID8geyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB7fTsNCiAgICAgICAgDQogICAgICAgIC8vIOa3u+WKoOeUqOaIt0lE5ZKM6KeS6Imy5Yiw6K+35rGC5aS0DQogICAgICAgIGhlYWRlcnNbJ1gtVXNlci1JZCddID0gdGhpcy51c2VySWQ7DQogICAgICAgIGhlYWRlcnNbJ1gtVXNlci1Sb2xlJ10gPSB0aGlzLnVzZXJSb2xlOw0KICAgICAgICANCiAgICAgICAgY29uc29sZS5sb2coIuWKoOi9vemkkOWOheWIl+ihqDog5b2T5YmN55So5oi36KeS6ImyOiIsIHRoaXMudXNlclJvbGUsICLnlKjmiLdJRDoiLCB0aGlzLnVzZXJJZCk7DQogICAgICAgIA0KICAgICAgICBpZiAodGhpcy51c2VyUm9sZSA9PT0gJ01hbmFnZXInKSB7DQogICAgICAgICAgLy8g566h55CG5ZGY5Y+v5Lul55yL5Yiw5omA5pyJ6aSQ5Y6FDQogICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY2FudGVlbi9saXN0JywgeyBoZWFkZXJzIH0pOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXNlclJvbGUgPT09ICdPd25lcicpIHsNCiAgICAgICAgICAvLyDkuJrkuLvlj6rog73nnIvliLDoh6rlt7HnmoTppJDljoUNCiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9jYW50ZWVuL293bmVyL2NhbnRlZW5zYCwgeyBoZWFkZXJzIH0pOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMucmVzdGF1cmFudHMgPSByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107DQogICAgICAgICAgY29uc29sZS5sb2coYOaIkOWKn+WKoOi9vSR7dGhpcy5yZXN0YXVyYW50cy5sZW5ndGh95a626aSQ5Y6FYCk7DQogICAgICAgICAgDQogICAgICAgICAgLy8g5aaC5p6c5Y+q5pyJ5LiA5Liq6aSQ5Y6F77yM6Ieq5Yqo6YCJ5oup5a6DDQogICAgICAgICAgaWYgKHRoaXMucmVzdGF1cmFudHMubGVuZ3RoID09PSAxKSB7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkID0gdGhpcy5yZXN0YXVyYW50c1swXS5pZDsNCiAgICAgICAgICAgIHRoaXMubG9hZE1lbnUoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdGF1cmFudHM6ICcgKyAocmVzcG9uc2U/LmRhdGE/Lm1zZyB8fCAnVW5rbm93biBlcnJvcicpKTsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCLliqDovb3ppJDljoXlpLHotKU6IiwgcmVzcG9uc2U/LmRhdGEpOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJlc3RhdXJhbnRzOicsIGVycm9yKTsNCiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSl6K+m5oOFOiIsIGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YSA6IGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJlc3RhdXJhbnRzOiAnICsgKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tc2cgfHwgZXJyb3IubWVzc2FnZSkpOw0KICAgICAgfQ0KICAgIH0sDQogICAgDQogICAgYXN5bmMgbG9hZE1lbnUoKSB7DQogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQpIHJldHVybjsNCiAgICAgIA0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5tZW51SXRlbUZvcm0ucmVzdGF1cmFudElkID0gdGhpcy5zZWxlY3RlZFJlc3RhdXJhbnRJZDsNCiAgICAgICAgdGhpcy5tZW51SXRlbUZvcm0uY2FudGluZ19pZCA9IHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQ7DQogICAgICAgIA0KICAgICAgICAvLyDojrflj5borqTor4Hkv6Hmga8NCiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsNCiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRva2VuID8geyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB7fTsNCiAgICAgICAgDQogICAgICAgIC8vIOa3u+WKoOeUqOaIt0lE5ZKM6KeS6Imy5Yiw6K+35rGC5aS0DQogICAgICAgIGhlYWRlcnNbJ1gtVXNlci1JZCddID0gdGhpcy51c2VySWQ7DQogICAgICAgIGhlYWRlcnNbJ1gtVXNlci1Sb2xlJ10gPSB0aGlzLnVzZXJSb2xlOw0KICAgICAgICANCiAgICAgICAgY29uc29sZS5sb2coYOato+WcqOWKoOi9vemkkOWOhUlEPSR7dGhpcy5zZWxlY3RlZFJlc3RhdXJhbnRJZH3nmoToj5zljZVgKTsNCiAgICAgICAgDQogICAgICAgIC8vIOagueaNruWQjuerr0FQSei3r+W+hOS/ruatow0KICAgICAgICAvLyDlkI7nq6/mnInkuKTkuKrlj6/nlKjot6/lvoTvvJovbWVudS9yZXN0YXVyYW50L3tpZH0g5oiWIC9jYW50aW5nL3tpZH0NCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoDQogICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9tZW51L3Jlc3RhdXJhbnQvJHt0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkfWAsIA0KICAgICAgICAgIHsgaGVhZGVycyB9DQogICAgICAgICk7DQogICAgICAgIA0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIC8vIOehruS/nW1lbnVJdGVtc+Wtl+auteS4juaVsOaNruW6k+ihqOWtl+auteWMuemFjQ0KICAgICAgICAgIHRoaXMubWVudUl0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhIHx8IFtdOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIOa3u+WKoOmineWkluWkhOeQhu+8muehruS/neaVsOaNruWtl+auteS4juWJjeerr+e7hOS7tuWMuemFjQ0KICAgICAgICAgIHRoaXMubWVudUl0ZW1zID0gdGhpcy5tZW51SXRlbXMubWFwKGl0ZW0gPT4gKHsNCiAgICAgICAgICAgIC4uLml0ZW0sDQogICAgICAgICAgICBwcmljZTogcGFyc2VGbG9hdChpdGVtLnByaWNlKSB8fCAwLCAvLyDnoa7kv53ku7fmoLzmmK/mlbDlrZfnsbvlnosNCiAgICAgICAgICAgIGlzQXZhaWxhYmxlOiBpdGVtLmlzX2F2YWlsYWJsZSA9PT0gMSwgLy8g5aSE55CG5a2X5q615ZCN5LiN5LiA6Ie06Zeu6aKYDQogICAgICAgICAgICByZXN0YXVyYW50SWQ6IGl0ZW0uY2FudGluZ19pZCAvLyDlpITnkIblrZfmrrXlkI3kuI3kuIDoh7Tpl67popgNCiAgICAgICAgICB9KSk7DQogICAgICAgICAgDQogICAgICAgICAgY29uc29sZS5sb2coYOaIkOWKn+WKoOi9vSR7dGhpcy5tZW51SXRlbXMubGVuZ3RofeS4quiPnOWNlemhuWAsIHRoaXMubWVudUl0ZW1zWzBdKTsNCiAgICAgICAgICB0aGlzLmZpbHRlckJ5Q2F0ZWdvcnkoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGE/Lm1zZyB8fCAnRmFpbGVkIHRvIGxvYWQgbWVudSBpdGVtcycpOw0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuWKoOi9veiPnOWNleWksei0pToiLCByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBtZW51OicsIGVycm9yKTsNCiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSl6K+m5oOFOiIsIGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YSA6IGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdFcnJvciBsb2FkaW5nIG1lbnUgaXRlbXM6ICcgKyAoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1zZyB8fCBlcnJvci5tZXNzYWdlKSk7DQogICAgICB9DQogICAgfSwNCiAgICANCiAgICBmaWx0ZXJCeUNhdGVnb3J5KCkgew0KICAgICAgaWYgKCF0aGlzLmNhdGVnb3J5RmlsdGVyKSB7DQogICAgICAgIHRoaXMuZmlsdGVyZWRNZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtczsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZmlsdGVyZWRNZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtcy5maWx0ZXIoaXRlbSA9PiANCiAgICAgICAgICBpdGVtLmNhdGVnb3J5ID09PSB0aGlzLmNhdGVnb3J5RmlsdGVyDQogICAgICAgICk7DQogICAgICB9DQogICAgfSwNCiAgICANCiAgICBhc3luYyBzYXZlTWVudUl0ZW0oKSB7DQogICAgICAvLyDpqozor4Hlv4XloavlrZfmrrUNCiAgICAgIGlmICghdGhpcy5tZW51SXRlbUZvcm0ubmFtZSB8fCB0aGlzLm1lbnVJdGVtRm9ybS5wcmljZSA9PT0gbnVsbCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdQbGVhc2UgZmlsbCBpbiBpdGVtIG5hbWUgYW5kIHByaWNlJyk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgLy8g56Gu5L+d6aSQ5Y6FSUTlt7Lorr7nva7vvIzlubbkuI7mlbDmja7lupPlrZfmrrXlkI3ljLnphY0NCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gew0KICAgICAgICAuLi50aGlzLm1lbnVJdGVtRm9ybSwNCiAgICAgICAgY2FudGVlbklkOiB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudElkLCAgLy8g5ZCO56uvTWVudUl0ZW3lrp7kvZPkvb/nlKhjYW50ZWVuSWQNCiAgICAgICAgY2FudGluZ19pZDogdGhpcy5zZWxlY3RlZFJlc3RhdXJhbnRJZCwgIC8vIOaVsOaNruW6k+S4reeahOWtl+auteaYr2NhbnRpbmdfaWQNCiAgICAgICAgaXNfYXZhaWxhYmxlOiB0aGlzLm1lbnVJdGVtRm9ybS5pc0F2YWlsYWJsZSA/IDEgOiAwLCAvLyDmlbDmja7lupPkuK3mmK9pc19hdmFpbGFibGXvvIwx6KGo56S65Y+v55So77yMMOihqOekuuS4jeWPr+eUqA0KICAgICAgfTsNCiAgICAgIA0KICAgICAgaWYgKHRoaXMuZWRpdE1vZGUgJiYgZm9ybURhdGEuaWQpIHsNCiAgICAgICAgLy8gaWTkv53mjIHljp/moLcNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOaWsOWinuaXtuS4jemcgOimgeaPkOS+m2lk77yM5pWw5o2u5bqT5Lya6Ieq5Yqo55Sf5oiQDQogICAgICAgIGRlbGV0ZSBmb3JtRGF0YS5pZDsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgY29uc29sZS5sb2coIuWHhuWkh+S/neWtmOiPnOWNlemhuToiLCBmb3JtRGF0YSk7DQogICAgICANCiAgICAgIHRyeSB7DQogICAgICAgIC8vIOiOt+WPluiupOivgeS/oeaBrw0KICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOw0KICAgICAgICBjb25zdCBoZWFkZXJzID0gew0KICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgfTsNCiAgICAgICAgDQogICAgICAgIGlmICh0b2tlbikgew0KICAgICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyDmt7vliqDnlKjmiLdJROWSjOinkuiJsuWIsOivt+axguWktA0KICAgICAgICBoZWFkZXJzWydYLVVzZXItSWQnXSA9IHRoaXMudXNlcklkOw0KICAgICAgICBoZWFkZXJzWydYLVVzZXItUm9sZSddID0gdGhpcy51c2VyUm9sZTsNCiAgICAgICAgDQogICAgICAgIC8vIOagueaNrk1lbnVJdGVtQ29udHJvbGxlcueahEFQSei3r+W+hA0KICAgICAgICBsZXQgdXJsLCBtZXRob2Q7DQogICAgICAgIA0KICAgICAgICBpZiAodGhpcy5lZGl0TW9kZSkgew0KICAgICAgICAgIC8vIOWvueS6jue8lui+ke+8jOS9v+eUqFBVVOaWueazleWSjOaguei3r+W+hA0KICAgICAgICAgIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvbWVudSc7DQogICAgICAgICAgbWV0aG9kID0gJ3B1dCc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5a+55LqO5paw5aKe77yM5L2/55SoUE9TVOaWueazleWSjOaguei3r+W+hA0KICAgICAgICAgIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvbWVudSc7DQogICAgICAgICAgbWV0aG9kID0gJ3Bvc3QnOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBjb25zb2xlLmxvZygi5Y+R6YCB6K+35rGC5YiwOiIsIHVybCwgIuaWueazlToiLCBtZXRob2QpOw0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICBtZXRob2QsDQogICAgICAgICAgdXJsLA0KICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLA0KICAgICAgICAgIGhlYWRlcnMNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLmVkaXRNb2RlID8gJ01lbnUgaXRlbSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgOiAnTWVudSBpdGVtIGFkZGVkIHN1Y2Nlc3NmdWxseScpOw0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7DQogICAgICAgICAgdGhpcy5sb2FkTWVudSgpOyAvLyDph43mlrDliqDovb3oj5zljZUNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGE/Lm1zZyB8fCAnT3BlcmF0aW9uIGZhaWxlZCcpOw0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuaTjeS9nOWksei0pToiLCByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG1lbnUgaXRlbTonLCBlcnJvcik7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoIuivt+axguWksei0peivpuaDhToiLCBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLmRhdGEgOiBlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRXJyb3Igc2F2aW5nIG1lbnUgaXRlbTogJyArIChlcnJvci5yZXNwb25zZT8uZGF0YT8ubXNnIHx8IGVycm9yLm1lc3NhZ2UpKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIGVkaXRNZW51SXRlbShtZW51SXRlbSkgew0KICAgICAgdGhpcy5lZGl0TW9kZSA9IHRydWU7DQogICAgICB0aGlzLm1lbnVJdGVtRm9ybSA9IHsgLi4ubWVudUl0ZW0gfTsNCiAgICAgIA0KICAgICAgLy8g5rua5Yqo5Yiw6KGo5Y2V5Yy65Z+fDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IGZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtZm9ybScpOw0KICAgICAgICBpZiAoZm9ybUVsZW1lbnQpIHsNCiAgICAgICAgICBmb3JtRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICBhc3luYyBkZWxldGVNZW51SXRlbShtZW51SXRlbSkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBtZW51IGl0ZW0/JykpIHsNCiAgICAgICAgICAvLyDojrflj5borqTor4Hkv6Hmga8NCiAgICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOw0KICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTsNCiAgICAgICAgICANCiAgICAgICAgICBpZiAodG9rZW4pIHsNCiAgICAgICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gOw0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICAvLyDmt7vliqDnlKjmiLdJROWSjOinkuiJsuWIsOivt+axguWktA0KICAgICAgICAgIGhlYWRlcnNbJ1gtVXNlci1JZCddID0gdGhpcy51c2VySWQ7DQogICAgICAgICAgaGVhZGVyc1snWC1Vc2VyLVJvbGUnXSA9IHRoaXMudXNlclJvbGU7DQogICAgICAgICAgDQogICAgICAgICAgY29uc29sZS5sb2coYOWHhuWkh+WIoOmZpOiPnOWNlemhuUlEPSR7bWVudUl0ZW0uaWR9YCk7DQogICAgICAgICAgDQogICAgICAgICAgLy8g5qC55o2uTWVudUl0ZW1Db250cm9sbGVy55qEQVBJ6Lev5b6EDQogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5kZWxldGUoDQogICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDgwL21lbnUvZGVsZXRlLyR7bWVudUl0ZW0uaWR9YCwgDQogICAgICAgICAgICB7IGhlYWRlcnMgfQ0KICAgICAgICAgICk7DQogICAgICAgICAgDQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnTWVudSBpdGVtIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7DQogICAgICAgICAgICB0aGlzLmxvYWRNZW51KCk7IC8vIOmHjeaWsOWKoOi9veiPnOWNlQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGE/Lm1zZyB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBtZW51IGl0ZW0nKTsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuWIoOmZpOWksei0pToiLCByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIG1lbnUgaXRlbTonLCBlcnJvcik7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoIuivt+axguWksei0peivpuaDhToiLCBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLmRhdGEgOiBlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbWVudSBpdGVtOiAnICsgKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tc2cgfHwgZXJyb3IubWVzc2FnZSkpOw0KICAgICAgfQ0KICAgIH0sDQogICAgDQogICAgcmVzZXRGb3JtKCkgew0KICAgICAgdGhpcy5tZW51SXRlbUZvcm0gPSB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICByZXN0YXVyYW50SWQ6IHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQsDQogICAgICAgIGNhbnRpbmdfaWQ6IHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50SWQsIC8vIOS4juaVsOaNruW6k+Wtl+auteWvueW6lA0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgZGVzY3JpcHRpb246ICcnLA0KICAgICAgICBwcmljZTogMCwNCiAgICAgICAgY2F0ZWdvcnk6ICcnLA0KICAgICAgICBpbWFnZTogJycsDQogICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlLA0KICAgICAgICBpc19hdmFpbGFibGU6IDEgLy8g5LiO5pWw5o2u5bqT5a2X5q615a+55bqUDQogICAgICB9Ow0KICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOw0KICAgIH0sDQogICAgDQogICAgY2FuY2VsRWRpdCgpIHsNCiAgICAgIHRoaXMucmVzZXRGb3JtKCk7DQogICAgfSwNCiAgICANCiAgICBnb0JhY2soKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Jlc3RhdXJhbnQtbWFuYWdlbWVudCcpOw0KICAgIH0sDQogICAgDQogICAgZ2V0Um93Q2xhc3NOYW1lKHtyb3d9KSB7DQogICAgICByZXR1cm4gcm93LmlzQXZhaWxhYmxlID8gJycgOiAndW5hdmFpbGFibGUtaXRlbSc7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";AA2IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"menu-management\">\r\n    <h2>Restaurant Menu Management</h2>\r\n    \r\n    <div class=\"restaurant-selector\">\r\n      <el-select \r\n        v-model=\"selectedRestaurantId\" \r\n        placeholder=\"Select a restaurant\" \r\n        @change=\"loadMenu\"\r\n        style=\"width: 100%;\"\r\n      >\r\n        <el-option \r\n          v-for=\"restaurant in restaurants\" \r\n          :key=\"restaurant.id\" \r\n          :label=\"restaurant.name\" \r\n          :value=\"restaurant.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </div>\r\n    \r\n    <div v-if=\"selectedRestaurantId\" class=\"menu-content\">\r\n      <!-- Menu Item Form -->\r\n      <div class=\"menu-form\">\r\n        <h3>{{ editMode ? 'Edit Menu Item' : 'Add New Menu Item' }}</h3>\r\n        <el-form :model=\"menuItemForm\" label-width=\"120px\">\r\n          <el-form-item label=\"Name\" required>\r\n            <el-input v-model=\"menuItemForm.name\" placeholder=\"Item Name\"></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Description\">\r\n            <el-input \r\n              v-model=\"menuItemForm.description\" \r\n              type=\"textarea\" \r\n              :rows=\"3\" \r\n              placeholder=\"Item Description\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Price\" required>\r\n            <el-input-number \r\n              v-model=\"menuItemForm.price\" \r\n              :precision=\"2\" \r\n              :step=\"0.5\" \r\n              :min=\"0\"\r\n              style=\"width: 200px;\"\r\n            ></el-input-number>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Category\">\r\n            <el-select v-model=\"menuItemForm.category\" placeholder=\"Select Category\">\r\n              <el-option label=\"Appetizer\" value=\"Appetizer\"></el-option>\r\n              <el-option label=\"Main Course\" value=\"Main Course\"></el-option>\r\n              <el-option label=\"Dessert\" value=\"Dessert\"></el-option>\r\n              <el-option label=\"Beverage\" value=\"Beverage\"></el-option>\r\n              <el-option label=\"Special\" value=\"Special\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Image URL\">\r\n            <el-input v-model=\"menuItemForm.image\" placeholder=\"Item Image URL\"></el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item label=\"Available\">\r\n            <el-switch v-model=\"menuItemForm.isAvailable\"></el-switch>\r\n          </el-form-item>\r\n          \r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"saveMenuItem\">Save</el-button>\r\n            <el-button @click=\"resetForm\">Reset</el-button>\r\n            <el-button v-if=\"editMode\" @click=\"cancelEdit\">Cancel</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      \r\n      <!-- Menu Items List -->\r\n      <div class=\"menu-list\">\r\n        <h3>Menu Items</h3>\r\n        \r\n        <div class=\"category-filters\">\r\n          <el-radio-group v-model=\"categoryFilter\" @change=\"filterByCategory\">\r\n            <el-radio-button label=\"\">All</el-radio-button>\r\n            <el-radio-button \r\n              v-for=\"category in availableCategories\" \r\n              :key=\"category\" \r\n              :label=\"category\"\r\n            >{{ category }}</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n        \r\n        <div v-if=\"filteredMenuItems.length === 0\" class=\"no-items\">\r\n          <p>No menu items found. Add your first item above!</p>\r\n        </div>\r\n        \r\n        <el-table \r\n          v-else \r\n          :data=\"filteredMenuItems\" \r\n          style=\"width: 100%\"\r\n          :row-class-name=\"getRowClassName\"\r\n        >\r\n          <el-table-column prop=\"name\" label=\"Name\" min-width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"description\" label=\"Description\" min-width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"description-text\">{{ scope.row.description || 'No description' }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"price\" label=\"Price\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              €{{ scope.row.price.toFixed(2) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"category\" label=\"Category\" width=\"120\"></el-table-column>\r\n          <el-table-column prop=\"isAvailable\" label=\"Available\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"scope.row.isAvailable ? 'success' : 'danger'\">\r\n                {{ scope.row.isAvailable ? 'Yes' : 'No' }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Actions\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" @click=\"editMenuItem(scope.row)\">Edit</el-button>\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"deleteMenuItem(scope.row)\">Delete</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-else class=\"no-restaurant-selected\">\r\n      <p>Please select a restaurant to manage its menu</p>\r\n    </div>\r\n    \r\n    <div class=\"actions-bar\">\r\n      <el-button type=\"warning\" @click=\"goBack\">Back to Restaurant Management</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Menu',\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n      menuItems: [],\r\n      filteredMenuItems: [],\r\n      selectedRestaurantId: null,\r\n      categoryFilter: '',\r\n      editMode: false,\r\n      menuItemForm: {\r\n        id: null,\r\n        restaurantId: null,\r\n        name: '',\r\n        description: '',\r\n        price: 0,\r\n        category: '',\r\n        image: '',\r\n        isAvailable: true\r\n      },\r\n      userRole: '',\r\n      userId: null\r\n    };\r\n  },\r\n  computed: {\r\n    availableCategories() {\r\n      // 提取所有不重复的分类\r\n      const categories = this.menuItems\r\n        .map(item => item.category)\r\n        .filter(category => category); // 过滤掉空值\r\n      \r\n      // 返回去重后的分类\r\n      return [...new Set(categories)];\r\n    }\r\n  },\r\n  created() {\r\n    // 获取用户信息\r\n    this.userRole = localStorage.getItem('userRole');\r\n    this.userId = localStorage.getItem('userId');\r\n    \r\n    // 加载餐厅列表\r\n    this.loadRestaurants();\r\n  },\r\n  methods: {\r\n    async loadRestaurants() {\r\n      try {\r\n        let response;\r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        console.log(\"加载餐厅列表: 当前用户角色:\", this.userRole, \"用户ID:\", this.userId);\r\n        \r\n        if (this.userRole === 'Manager') {\r\n          // 管理员可以看到所有餐厅\r\n          response = await axios.get('http://localhost:8080/api/canteen/list', { headers });\r\n        } else if (this.userRole === 'Owner') {\r\n          // 业主只能看到自己的餐厅\r\n          response = await axios.get(`http://localhost:8080/api/canteen/owner/canteens`, { headers });\r\n        }\r\n        \r\n        if (response && response.data && response.data.code === 200) {\r\n          this.restaurants = response.data.data || [];\r\n          console.log(`成功加载${this.restaurants.length}家餐厅`);\r\n          \r\n          // 如果只有一个餐厅，自动选择它\r\n          if (this.restaurants.length === 1) {\r\n            this.selectedRestaurantId = this.restaurants[0].id;\r\n            this.loadMenu();\r\n          }\r\n        } else {\r\n          this.$message.error('Failed to load restaurants: ' + (response?.data?.msg || 'Unknown error'));\r\n          console.error(\"加载餐厅失败:\", response?.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading restaurants:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error loading restaurants: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    async loadMenu() {\r\n      if (!this.selectedRestaurantId) return;\r\n      \r\n      try {\r\n        this.menuItemForm.restaurantId = this.selectedRestaurantId;\r\n        this.menuItemForm.canting_id = this.selectedRestaurantId;\r\n        \r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        console.log(`正在加载餐厅ID=${this.selectedRestaurantId}的菜单`);\r\n        \r\n        // 根据后端API路径修正\r\n        // 后端有两个可用路径：/menu/restaurant/{id} 或 /canting/{id}\r\n        const response = await axios.get(\r\n          `http://localhost:8080/menu/restaurant/${this.selectedRestaurantId}`, \r\n          { headers }\r\n        );\r\n        \r\n        if (response.data && response.data.code === 200) {\r\n          // 确保menuItems字段与数据库表字段匹配\r\n          this.menuItems = response.data.data || [];\r\n          \r\n          // 添加额外处理：确保数据字段与前端组件匹配\r\n          this.menuItems = this.menuItems.map(item => ({\r\n            ...item,\r\n            price: parseFloat(item.price) || 0, // 确保价格是数字类型\r\n            isAvailable: item.is_available === 1, // 处理字段名不一致问题\r\n            restaurantId: item.canting_id // 处理字段名不一致问题\r\n          }));\r\n          \r\n          console.log(`成功加载${this.menuItems.length}个菜单项`, this.menuItems[0]);\r\n          this.filterByCategory();\r\n        } else {\r\n          this.$message.error(response.data?.msg || 'Failed to load menu items');\r\n          console.error(\"加载菜单失败:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading menu:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error loading menu items: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    filterByCategory() {\r\n      if (!this.categoryFilter) {\r\n        this.filteredMenuItems = this.menuItems;\r\n      } else {\r\n        this.filteredMenuItems = this.menuItems.filter(item => \r\n          item.category === this.categoryFilter\r\n        );\r\n      }\r\n    },\r\n    \r\n    async saveMenuItem() {\r\n      // 验证必填字段\r\n      if (!this.menuItemForm.name || this.menuItemForm.price === null) {\r\n        this.$message.error('Please fill in item name and price');\r\n        return;\r\n      }\r\n      \r\n      // 确保餐厅ID已设置，并与数据库字段名匹配\r\n      const formData = {\r\n        ...this.menuItemForm,\r\n        canteenId: this.selectedRestaurantId,  // 后端MenuItem实体使用canteenId\r\n        canting_id: this.selectedRestaurantId,  // 数据库中的字段是canting_id\r\n        is_available: this.menuItemForm.isAvailable ? 1 : 0, // 数据库中是is_available，1表示可用，0表示不可用\r\n      };\r\n      \r\n      if (this.editMode && formData.id) {\r\n        // id保持原样\r\n      } else {\r\n        // 新增时不需要提供id，数据库会自动生成\r\n        delete formData.id;\r\n      }\r\n      \r\n      console.log(\"准备保存菜单项:\", formData);\r\n      \r\n      try {\r\n        // 获取认证信息\r\n        const token = localStorage.getItem('token');\r\n        const headers = {\r\n          'Content-Type': 'application/json'\r\n        };\r\n        \r\n        if (token) {\r\n          headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n        \r\n        // 添加用户ID和角色到请求头\r\n        headers['X-User-Id'] = this.userId;\r\n        headers['X-User-Role'] = this.userRole;\r\n        \r\n        // 根据MenuItemController的API路径\r\n        let url, method;\r\n        \r\n        if (this.editMode) {\r\n          // 对于编辑，使用PUT方法和根路径\r\n          url = 'http://localhost:8080/menu';\r\n          method = 'put';\r\n        } else {\r\n          // 对于新增，使用POST方法和根路径\r\n          url = 'http://localhost:8080/menu';\r\n          method = 'post';\r\n        }\r\n        \r\n        console.log(\"发送请求到:\", url, \"方法:\", method);\r\n        const response = await axios({\r\n          method,\r\n          url,\r\n          data: formData,\r\n          headers\r\n        });\r\n        \r\n        if (response.data && response.data.code === 200) {\r\n          this.$message.success(this.editMode ? 'Menu item updated successfully' : 'Menu item added successfully');\r\n          this.resetForm();\r\n          this.loadMenu(); // 重新加载菜单\r\n        } else {\r\n          this.$message.error(response.data?.msg || 'Operation failed');\r\n          console.error(\"操作失败:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error saving menu item:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error saving menu item: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    editMenuItem(menuItem) {\r\n      this.editMode = true;\r\n      this.menuItemForm = { ...menuItem };\r\n      \r\n      // 滚动到表单区域\r\n      this.$nextTick(() => {\r\n        const formElement = document.querySelector('.menu-form');\r\n        if (formElement) {\r\n          formElement.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      });\r\n    },\r\n    \r\n    async deleteMenuItem(menuItem) {\r\n      try {\r\n        if (confirm('Are you sure you want to delete this menu item?')) {\r\n          // 获取认证信息\r\n          const token = localStorage.getItem('token');\r\n          const headers = {};\r\n          \r\n          if (token) {\r\n            headers['Authorization'] = `Bearer ${token}`;\r\n          }\r\n          \r\n          // 添加用户ID和角色到请求头\r\n          headers['X-User-Id'] = this.userId;\r\n          headers['X-User-Role'] = this.userRole;\r\n          \r\n          console.log(`准备删除菜单项ID=${menuItem.id}`);\r\n          \r\n          // 根据MenuItemController的API路径\r\n          const response = await axios.delete(\r\n            `http://localhost:8080/menu/delete/${menuItem.id}`, \r\n            { headers }\r\n          );\r\n          \r\n          if (response.data && response.data.code === 200) {\r\n            this.$message.success('Menu item deleted successfully');\r\n            this.loadMenu(); // 重新加载菜单\r\n          } else {\r\n            this.$message.error(response.data?.msg || 'Failed to delete menu item');\r\n            console.error(\"删除失败:\", response.data);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting menu item:', error);\r\n        console.error(\"请求失败详情:\", error.response ? error.response.data : error.message);\r\n        this.$message.error('Error deleting menu item: ' + (error.response?.data?.msg || error.message));\r\n      }\r\n    },\r\n    \r\n    resetForm() {\r\n      this.menuItemForm = {\r\n        id: null,\r\n        restaurantId: this.selectedRestaurantId,\r\n        canting_id: this.selectedRestaurantId, // 与数据库字段对应\r\n        name: '',\r\n        description: '',\r\n        price: 0,\r\n        category: '',\r\n        image: '',\r\n        isAvailable: true,\r\n        is_available: 1 // 与数据库字段对应\r\n      };\r\n      this.editMode = false;\r\n    },\r\n    \r\n    cancelEdit() {\r\n      this.resetForm();\r\n    },\r\n    \r\n    goBack() {\r\n      this.$router.push('/restaurant-management');\r\n    },\r\n    \r\n    getRowClassName({row}) {\r\n      return row.isAvailable ? '' : 'unavailable-item';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.menu-management {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh2, h3 {\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.restaurant-selector {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.menu-content {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.menu-form {\r\n  background: #f9f9f9;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.menu-list {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  border: 1px solid #eee;\r\n}\r\n\r\n.category-filters {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.no-items, .no-restaurant-selected {\r\n  text-align: center;\r\n  color: #999;\r\n  padding: 30px 0;\r\n}\r\n\r\n.description-text {\r\n  display: block;\r\n  max-height: 80px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.actions-bar {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* 不可用菜单项的样式 */\r\n.unavailable-item {\r\n  background-color: #f9f9f9;\r\n  color: #999;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .menu-content {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style> "]}]}
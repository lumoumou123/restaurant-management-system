{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue","mtime":1743018070249},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gJ0AvdXRpbHMvYXV0aCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRGFzaGJvYXJkJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlclJvbGU6ICcnLA0KICAgICAgdXNlck5hbWU6ICcnLA0KICAgICAgb3duZXJTdGF0czogew0KICAgICAgICByZXN0YXVyYW50Q291bnQ6IDEsDQogICAgICAgIGF2ZXJhZ2VSYXRpbmc6IDQuMiwNCiAgICAgICAgdG90YWxDb21tZW50czogNDUsDQogICAgICAgIHZpZXdDb3VudDogMzI1DQogICAgICB9LA0KICAgICAgbWFuYWdlclN0YXRzOiB7DQogICAgICAgIHRvdGFsUmVzdGF1cmFudHM6IDE1LA0KICAgICAgICB0b3RhbE93bmVyczogOCwNCiAgICAgICAgdG90YWxVc2VyczogMTIwLA0KICAgICAgICB0b3RhbENvbW1lbnRzOiA4OQ0KICAgICAgfSwNCiAgICAgIHJlY2VudEFjdGl2aXRpZXM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGNvbnRlbnQ6ICfns7vnu5/mm7TmlrDvvJrmt7vliqDkuobppJDljoXnu5/orqHlip/og70nLA0KICAgICAgICAgIHRpbWU6ICcyMDIzLTA2LTAxIDEyOjAwOjAwJywNCiAgICAgICAgICBjb2xvcjogJyMwYmJkODcnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBjb250ZW50OiAn5paw55So5oi35rOo5YaMJywNCiAgICAgICAgICB0aW1lOiAnMjAyMy0wNS0zMCAxNToyNjozOCcsDQogICAgICAgICAgY29sb3I6ICcjNDA5RUZGJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgY29udGVudDogJ+mkkOWOhSLljJfkuqzng6TpuK3lupci5pS25Yiw5paw55qE6K+E6K66JywNCiAgICAgICAgICB0aW1lOiAnMjAyMy0wNS0yOSAwOToxNToyMCcsDQogICAgICAgICAgY29sb3I6ICcjRTZBMjNDJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgY29udGVudDogJ+mkkOWOhSLkuIrmtbflsI/nrLzljIUi5pu05paw5LqG6I+c5Y2VJywNCiAgICAgICAgICB0aW1lOiAnMjAyMy0wNS0yOCAxNDozMzo0MScsDQogICAgICAgICAgY29sb3I6ICcjRjU2QzZDJw0KICAgICAgICB9DQogICAgICBdDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGdyZWV0aW5nKCkgew0KICAgICAgY29uc3QgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKQ0KICAgICAgbGV0IGdyZWV0aW5nID0gJycNCiAgICAgIA0KICAgICAgaWYgKGhvdXIgPCA2KSB7DQogICAgICAgIGdyZWV0aW5nID0gJ+WHjOaZqOWlvScNCiAgICAgIH0gZWxzZSBpZiAoaG91ciA8IDkpIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5pep5LiK5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTIpIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5LiK5Y2I5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTQpIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5Lit5Y2I5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTcpIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5LiL5Y2I5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTkpIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5YKN5pma5aW9Jw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZ3JlZXRpbmcgPSAn5pma5LiK5aW9Jw0KICAgICAgfQ0KICAgICAgDQogICAgICByZXR1cm4gYCR7Z3JlZXRpbmd977yMJHt0aGlzLnVzZXJOYW1lIHx8ICfnlKjmiLcnfe+8geS7iuWkqeaYryAke3RoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKX1gDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdFVzZXJJbmZvKCkNCiAgICB0aGlzLmZldGNoRGFzaGJvYXJkRGF0YSgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0VXNlckluZm8oKSB7DQogICAgICBjb25zdCB1c2VySW5mbyA9IGdldFVzZXJJbmZvKCkNCiAgICAgIGlmICh1c2VySW5mbykgew0KICAgICAgICB0aGlzLnVzZXJSb2xlID0gdXNlckluZm8ucm9sZQ0KICAgICAgICB0aGlzLnVzZXJOYW1lID0gdXNlckluZm8ubmFtZSB8fCB1c2VySW5mby51c2VybmFtZQ0KICAgICAgfQ0KICAgIH0sDQogICAgZmV0Y2hEYXNoYm9hcmREYXRhKCkgew0KICAgICAgLy8g6L+Z6YeM5bqU6K+l5LuOQVBJ6I635Y+W5pWw5o2uDQogICAgICAvLyDnjrDlnKjkvb/nlKjmqKHmi5/mlbDmja4NCiAgICAgIGNvbnNvbGUubG9nKCfliqDovb3ku6rooajnm5jmlbDmja4nKQ0KICAgIH0sDQogICAgbmF2aWdhdGVUbyhwYXRoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKQ0KICAgIH0sDQogICAgZm9ybWF0RGF0ZShkYXRlKSB7DQogICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpDQogICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDENCiAgICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpDQogICAgICBjb25zdCB3ZWVrZGF5cyA9IFsn5pif5pyf5pelJywgJ+aYn+acn+S4gCcsICfmmJ/mnJ/kuownLCAn5pif5pyf5LiJJywgJ+aYn+acn+WbmycsICfmmJ/mnJ/kupQnLCAn5pif5pyf5YWtJ10NCiAgICAgIGNvbnN0IHdlZWtkYXkgPSB3ZWVrZGF5c1tkYXRlLmdldERheSgpXQ0KICAgICAgDQogICAgICByZXR1cm4gYCR7eWVhcn3lubQke21vbnRofeaciCR7ZGF5feaXpSAke3dlZWtkYXl9YA0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":";AAgIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"dashboard.vue","sourceRoot":"src/views/emergencyDispatch","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"welcome-header\">\r\n      <h1>欢迎使用餐厅管理系统</h1>\r\n      <p>{{ greeting }}</p>\r\n    </div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <!-- 餐厅管理卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-management')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-s-shop\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅管理</h3>\r\n            <p>管理餐厅信息、地址和菜单</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅统计卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-statistics')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-data-analysis\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅统计</h3>\r\n            <p>查看评分、评论和访问量等统计数据</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅列表卡片 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-tickets\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅列表</h3>\r\n            <p>浏览所有餐厅和评论</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 业主专区 -->\r\n    <div v-if=\"userRole === 'Owner'\" class=\"owner-section\">\r\n      <h2>我的餐厅概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.restaurantCount || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅数量</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.averageRating || 0 }}</div>\r\n            <div class=\"stat-label\">平均评分</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">总评论数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.viewCount || 0 }}</div>\r\n            <div class=\"stat-label\">本月访问量</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 管理员专区 -->\r\n    <div v-if=\"userRole === 'Manager'\" class=\"manager-section\">\r\n      <h2>系统概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalRestaurants || 0 }}</div>\r\n            <div class=\"stat-label\">总餐厅数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalOwners || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅业主</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalUsers || 0 }}</div>\r\n            <div class=\"stat-label\">注册用户</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">本月评论</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 最近活动 -->\r\n    <div class=\"recent-activity\">\r\n      <h2>最近活动</h2>\r\n      <el-timeline>\r\n        <el-timeline-item\r\n          v-for=\"(activity, index) in recentActivities\"\r\n          :key=\"index\"\r\n          :timestamp=\"activity.time\"\r\n          :color=\"activity.color\"\r\n        >\r\n          {{ activity.content }}\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      userRole: '',\r\n      userName: '',\r\n      ownerStats: {\r\n        restaurantCount: 1,\r\n        averageRating: 4.2,\r\n        totalComments: 45,\r\n        viewCount: 325\r\n      },\r\n      managerStats: {\r\n        totalRestaurants: 15,\r\n        totalOwners: 8,\r\n        totalUsers: 120,\r\n        totalComments: 89\r\n      },\r\n      recentActivities: [\r\n        {\r\n          content: '系统更新：添加了餐厅统计功能',\r\n          time: '2023-06-01 12:00:00',\r\n          color: '#0bbd87'\r\n        },\r\n        {\r\n          content: '新用户注册',\r\n          time: '2023-05-30 15:26:38',\r\n          color: '#409EFF'\r\n        },\r\n        {\r\n          content: '餐厅\"北京烤鸭店\"收到新的评论',\r\n          time: '2023-05-29 09:15:20',\r\n          color: '#E6A23C'\r\n        },\r\n        {\r\n          content: '餐厅\"上海小笼包\"更新了菜单',\r\n          time: '2023-05-28 14:33:41',\r\n          color: '#F56C6C'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    greeting() {\r\n      const hour = new Date().getHours()\r\n      let greeting = ''\r\n      \r\n      if (hour < 6) {\r\n        greeting = '凌晨好'\r\n      } else if (hour < 9) {\r\n        greeting = '早上好'\r\n      } else if (hour < 12) {\r\n        greeting = '上午好'\r\n      } else if (hour < 14) {\r\n        greeting = '中午好'\r\n      } else if (hour < 17) {\r\n        greeting = '下午好'\r\n      } else if (hour < 19) {\r\n        greeting = '傍晚好'\r\n      } else {\r\n        greeting = '晚上好'\r\n      }\r\n      \r\n      return `${greeting}，${this.userName || '用户'}！今天是 ${this.formatDate(new Date())}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initUserInfo()\r\n    this.fetchDashboardData()\r\n  },\r\n  methods: {\r\n    initUserInfo() {\r\n      const userInfo = getUserInfo()\r\n      if (userInfo) {\r\n        this.userRole = userInfo.role\r\n        this.userName = userInfo.name || userInfo.username\r\n      }\r\n    },\r\n    fetchDashboardData() {\r\n      // 这里应该从API获取数据\r\n      // 现在使用模拟数据\r\n      console.log('加载仪表盘数据')\r\n    },\r\n    navigateTo(path) {\r\n      this.$router.push(path)\r\n    },\r\n    formatDate(date) {\r\n      const year = date.getFullYear()\r\n      const month = date.getMonth() + 1\r\n      const day = date.getDate()\r\n      const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      const weekday = weekdays[date.getDay()]\r\n      \r\n      return `${year}年${month}月${day}日 ${weekday}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.welcome-header {\r\n  margin-bottom: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.welcome-header h1 {\r\n  font-size: 28px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.feature-card {\r\n  height: 200px;\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.feature-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  color: #409EFF;\r\n}\r\n\r\n.card-content {\r\n  text-align: center;\r\n}\r\n\r\n.card-content h3 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card-content p {\r\n  color: #606266;\r\n}\r\n\r\n.owner-section, .manager-section {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.owner-section h2, .manager-section h2, .recent-activity h2 {\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #EBEEF5;\r\n}\r\n\r\n.stat-card {\r\n  height: 120px;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stat-label {\r\n  color: #606266;\r\n}\r\n\r\n.recent-activity {\r\n  margin-top: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .feature-card {\r\n    height: 150px;\r\n  }\r\n  \r\n  .stat-card {\r\n    height: 100px;\r\n  }\r\n  \r\n  .stat-value {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style> "]}]}
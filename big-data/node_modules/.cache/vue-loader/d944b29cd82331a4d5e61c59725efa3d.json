{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue?vue&type=style&index=0&id=2bc10e86&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\emergencyDispatch\\dashboard.vue","mtime":1743018070249},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\css-loader\\dist\\cjs.js","mtime":1742859681121},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1742859685007},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\postcss-loader\\src\\index.js","mtime":1742859682771},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZGFzaGJvYXJkLWNvbnRhaW5lciB7DQogIHBhZGRpbmc6IDIwcHg7DQp9DQoNCi53ZWxjb21lLWhlYWRlciB7DQogIG1hcmdpbi1ib3R0b206IDMwcHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCg0KLndlbGNvbWUtaGVhZGVyIGgxIHsNCiAgZm9udC1zaXplOiAyOHB4Ow0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQouZmVhdHVyZS1jYXJkIHsNCiAgaGVpZ2h0OiAyMDBweDsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQoNCi5mZWF0dXJlLWNhcmQ6aG92ZXIgew0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7DQogIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCn0NCg0KLmNhcmQtaWNvbiB7DQogIGZvbnQtc2l6ZTogNDhweDsNCiAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgY29sb3I6ICM0MDlFRkY7DQp9DQoNCi5jYXJkLWNvbnRlbnQgew0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCi5jYXJkLWNvbnRlbnQgaDMgew0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQouY2FyZC1jb250ZW50IHAgew0KICBjb2xvcjogIzYwNjI2NjsNCn0NCg0KLm93bmVyLXNlY3Rpb24sIC5tYW5hZ2VyLXNlY3Rpb24gew0KICBtYXJnaW4tdG9wOiAzMHB4Ow0KICBtYXJnaW4tYm90dG9tOiAzMHB4Ow0KfQ0KDQoub3duZXItc2VjdGlvbiBoMiwgLm1hbmFnZXItc2VjdGlvbiBoMiwgLnJlY2VudC1hY3Rpdml0eSBoMiB7DQogIGZvbnQtc2l6ZTogMjBweDsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgcGFkZGluZy1ib3R0b206IDEwcHg7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRUJFRUY1Ow0KfQ0KDQouc3RhdC1jYXJkIHsNCiAgaGVpZ2h0OiAxMjBweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCg0KLnN0YXQtdmFsdWUgew0KICBmb250LXNpemU6IDMycHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBjb2xvcjogIzQwOUVGRjsNCiAgbWFyZ2luLWJvdHRvbTogMTBweDsNCn0NCg0KLnN0YXQtbGFiZWwgew0KICBjb2xvcjogIzYwNjI2NjsNCn0NCg0KLnJlY2VudC1hY3Rpdml0eSB7DQogIG1hcmdpbi10b3A6IDIwcHg7DQp9DQoNCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgew0KICAuZmVhdHVyZS1jYXJkIHsNCiAgICBoZWlnaHQ6IDE1MHB4Ow0KICB9DQogIA0KICAuc3RhdC1jYXJkIHsNCiAgICBoZWlnaHQ6IDEwMHB4Ow0KICB9DQogIA0KICAuc3RhdC12YWx1ZSB7DQogICAgZm9udC1zaXplOiAyNHB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":";AAsOA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"dashboard.vue","sourceRoot":"src/views/emergencyDispatch","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"welcome-header\">\r\n      <h1>欢迎使用餐厅管理系统</h1>\r\n      <p>{{ greeting }}</p>\r\n    </div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <!-- 餐厅管理卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-management')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-s-shop\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅管理</h3>\r\n            <p>管理餐厅信息、地址和菜单</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅统计卡片 -->\r\n      <el-col :span=\"8\" v-if=\"['Manager', 'Owner'].includes(userRole)\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/restaurant-statistics')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-data-analysis\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅统计</h3>\r\n            <p>查看评分、评论和访问量等统计数据</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 餐厅列表卡片 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"feature-card\" @click.native=\"navigateTo('/')\">\r\n          <div class=\"card-icon\">\r\n            <i class=\"el-icon-tickets\"></i>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <h3>餐厅列表</h3>\r\n            <p>浏览所有餐厅和评论</p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 业主专区 -->\r\n    <div v-if=\"userRole === 'Owner'\" class=\"owner-section\">\r\n      <h2>我的餐厅概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.restaurantCount || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅数量</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.averageRating || 0 }}</div>\r\n            <div class=\"stat-label\">平均评分</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">总评论数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ ownerStats.viewCount || 0 }}</div>\r\n            <div class=\"stat-label\">本月访问量</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 管理员专区 -->\r\n    <div v-if=\"userRole === 'Manager'\" class=\"manager-section\">\r\n      <h2>系统概览</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalRestaurants || 0 }}</div>\r\n            <div class=\"stat-label\">总餐厅数</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalOwners || 0 }}</div>\r\n            <div class=\"stat-label\">餐厅业主</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalUsers || 0 }}</div>\r\n            <div class=\"stat-label\">注册用户</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ managerStats.totalComments || 0 }}</div>\r\n            <div class=\"stat-label\">本月评论</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 最近活动 -->\r\n    <div class=\"recent-activity\">\r\n      <h2>最近活动</h2>\r\n      <el-timeline>\r\n        <el-timeline-item\r\n          v-for=\"(activity, index) in recentActivities\"\r\n          :key=\"index\"\r\n          :timestamp=\"activity.time\"\r\n          :color=\"activity.color\"\r\n        >\r\n          {{ activity.content }}\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      userRole: '',\r\n      userName: '',\r\n      ownerStats: {\r\n        restaurantCount: 1,\r\n        averageRating: 4.2,\r\n        totalComments: 45,\r\n        viewCount: 325\r\n      },\r\n      managerStats: {\r\n        totalRestaurants: 15,\r\n        totalOwners: 8,\r\n        totalUsers: 120,\r\n        totalComments: 89\r\n      },\r\n      recentActivities: [\r\n        {\r\n          content: '系统更新：添加了餐厅统计功能',\r\n          time: '2023-06-01 12:00:00',\r\n          color: '#0bbd87'\r\n        },\r\n        {\r\n          content: '新用户注册',\r\n          time: '2023-05-30 15:26:38',\r\n          color: '#409EFF'\r\n        },\r\n        {\r\n          content: '餐厅\"北京烤鸭店\"收到新的评论',\r\n          time: '2023-05-29 09:15:20',\r\n          color: '#E6A23C'\r\n        },\r\n        {\r\n          content: '餐厅\"上海小笼包\"更新了菜单',\r\n          time: '2023-05-28 14:33:41',\r\n          color: '#F56C6C'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    greeting() {\r\n      const hour = new Date().getHours()\r\n      let greeting = ''\r\n      \r\n      if (hour < 6) {\r\n        greeting = '凌晨好'\r\n      } else if (hour < 9) {\r\n        greeting = '早上好'\r\n      } else if (hour < 12) {\r\n        greeting = '上午好'\r\n      } else if (hour < 14) {\r\n        greeting = '中午好'\r\n      } else if (hour < 17) {\r\n        greeting = '下午好'\r\n      } else if (hour < 19) {\r\n        greeting = '傍晚好'\r\n      } else {\r\n        greeting = '晚上好'\r\n      }\r\n      \r\n      return `${greeting}，${this.userName || '用户'}！今天是 ${this.formatDate(new Date())}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initUserInfo()\r\n    this.fetchDashboardData()\r\n  },\r\n  methods: {\r\n    initUserInfo() {\r\n      const userInfo = getUserInfo()\r\n      if (userInfo) {\r\n        this.userRole = userInfo.role\r\n        this.userName = userInfo.name || userInfo.username\r\n      }\r\n    },\r\n    fetchDashboardData() {\r\n      // 这里应该从API获取数据\r\n      // 现在使用模拟数据\r\n      console.log('加载仪表盘数据')\r\n    },\r\n    navigateTo(path) {\r\n      this.$router.push(path)\r\n    },\r\n    formatDate(date) {\r\n      const year = date.getFullYear()\r\n      const month = date.getMonth() + 1\r\n      const day = date.getDate()\r\n      const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      const weekday = weekdays[date.getDay()]\r\n      \r\n      return `${year}年${month}月${day}日 ${weekday}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.welcome-header {\r\n  margin-bottom: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.welcome-header h1 {\r\n  font-size: 28px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.feature-card {\r\n  height: 200px;\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.feature-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  color: #409EFF;\r\n}\r\n\r\n.card-content {\r\n  text-align: center;\r\n}\r\n\r\n.card-content h3 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card-content p {\r\n  color: #606266;\r\n}\r\n\r\n.owner-section, .manager-section {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.owner-section h2, .manager-section h2, .recent-activity h2 {\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #EBEEF5;\r\n}\r\n\r\n.stat-card {\r\n  height: 120px;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stat-label {\r\n  color: #606266;\r\n}\r\n\r\n.recent-activity {\r\n  margin-top: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .feature-card {\r\n    height: 150px;\r\n  }\r\n  \r\n  .stat-card {\r\n    height: 100px;\r\n  }\r\n  \r\n  .stat-value {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style> "]}]}
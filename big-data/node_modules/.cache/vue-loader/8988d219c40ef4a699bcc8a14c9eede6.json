{"remainingRequest":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\RestaurantStatistics.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\src\\views\\RestaurantStatistics.vue","mtime":1743698608590},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\babel-loader\\lib\\index.js","mtime":1742859682775},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742859679583},{"path":"C:\\Users\\18167\\Desktop\\final year\\big-data\\node_modules\\vue-loader\\lib\\index.js","mtime":1742859683968}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyB1c2UgfSBmcm9tICdlY2hhcnRzL2NvcmUnOw0KaW1wb3J0IHsgQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdlY2hhcnRzL3JlbmRlcmVycyc7DQppbXBvcnQgeyBCYXJDaGFydCwgTGluZUNoYXJ0LCBQaWVDaGFydCB9IGZyb20gJ2VjaGFydHMvY2hhcnRzJzsNCmltcG9ydCB7DQogIFRpdGxlQ29tcG9uZW50LA0KICBUb29sdGlwQ29tcG9uZW50LA0KICBMZWdlbmRDb21wb25lbnQsDQogIEdyaWRDb21wb25lbnQNCn0gZnJvbSAnZWNoYXJ0cy9jb21wb25lbnRzJzsNCmltcG9ydCBWQ2hhcnQsIHsgVEhFTUVfS0VZIH0gZnJvbSAndnVlLWVjaGFydHMnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsNCg0KdXNlKFsNCiAgQ2FudmFzUmVuZGVyZXIsDQogIEJhckNoYXJ0LA0KICBMaW5lQ2hhcnQsDQogIFBpZUNoYXJ0LA0KICBUaXRsZUNvbXBvbmVudCwNCiAgVG9vbHRpcENvbXBvbmVudCwNCiAgTGVnZW5kQ29tcG9uZW50LA0KICBHcmlkQ29tcG9uZW50DQpdKTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnUmVzdGF1cmFudFN0YXRpc3RpY3MnLA0KICBjb21wb25lbnRzOiB7DQogICAgVkNoYXJ0DQogIH0sDQogIHByb3ZpZGU6IHsNCiAgICBbVEhFTUVfS0VZXTogJ2xpZ2h0Jw0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRlUmFuZ2U6IFsNCiAgICAgICAgbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNykpLA0KICAgICAgICBuZXcgRGF0ZSgpDQogICAgICBdLA0KICAgICAgc2VsZWN0ZWRSZXN0YXVyYW50OiBudWxsLA0KICAgICAgcmVzdGF1cmFudHM6IFtdLA0KICAgICAgc3RhdGlzdGljczogew0KICAgICAgICBhdmVyYWdlUmF0aW5nOiAwLA0KICAgICAgICB0b3RhbENvbW1lbnRzOiAwLA0KICAgICAgICBtZW51SXRlbUNvdW50OiAwLA0KICAgICAgICB0b3RhbFZpZXdzOiAwLA0KICAgICAgICByYXRpbmdEaXN0cmlidXRpb246IHt9LA0KICAgICAgICB2aWV3c1RyZW5kOiBbXSwNCiAgICAgICAgcG9wdWxhckRpc2hlczogW10sDQogICAgICAgIGNvbW1lbnRzVGltZWxpbmU6IFtdDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICByYXRpbmdEaXN0cmlidXRpb25DaGFydCgpIHsNCiAgICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpc3RpY3MucmF0aW5nRGlzdHJpYnV0aW9uIHx8IHt9KS5tYXAoDQogICAgICAgIChbcmF0aW5nLCBjb3VudF0pID0+ICh7DQogICAgICAgICAgbmFtZTogYCR7cmF0aW5nfSBTdGFyYCwNCiAgICAgICAgICB2YWx1ZTogY291bnQNCiAgICAgICAgfSkNCiAgICAgICk7DQoNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRvb2x0aXA6IHsNCiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsDQogICAgICAgICAgZm9ybWF0dGVyOiAne2J9OiB7Y30gKHtkfSUpJw0KICAgICAgICB9LA0KICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsDQogICAgICAgICAgbGVmdDogJ2xlZnQnDQogICAgICAgIH0sDQogICAgICAgIHNlcmllczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLA0KICAgICAgICAgICAgcmFkaXVzOiBbJzUwJScsICc3MCUnXSwNCiAgICAgICAgICAgIGF2b2lkTGFiZWxPdmVybGFwOiBmYWxzZSwNCiAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiAnb3V0c2lkZScNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlbXBoYXNpczogew0KICAgICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNicsDQogICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBsYWJlbExpbmU6IHsNCiAgICAgICAgICAgICAgc2hvdzogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRhdGE6IGRhdGENCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH07DQogICAgfSwNCiAgICB2aWV3c1RyZW5kQ2hhcnQoKSB7DQogICAgICBjb25zdCB7IHZpZXdzVHJlbmQgPSBbXSB9ID0gdGhpcy5zdGF0aXN0aWNzOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgIHRyaWdnZXI6ICdheGlzJw0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsDQogICAgICAgICAgZGF0YTogdmlld3NUcmVuZC5tYXAoaXRlbSA9PiBpdGVtLmRhdGUpDQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ3ZhbHVlJw0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBkYXRhOiB2aWV3c1RyZW5kLm1hcChpdGVtID0+IGl0ZW0udmlld3MpLA0KICAgICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgICAgc21vb3RoOiB0cnVlLA0KICAgICAgICAgICAgYXJlYVN0eWxlOiB7fQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfTsNCiAgICB9LA0KICAgIHBvcHVsYXJEaXNoZXNDaGFydCgpIHsNCiAgICAgIGNvbnN0IHsgcG9wdWxhckRpc2hlcyA9IFtdIH0gPSB0aGlzLnN0YXRpc3RpY3M7DQogICAgICByZXR1cm4gew0KICAgICAgICB0b29sdGlwOiB7DQogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnLA0KICAgICAgICAgIGF4aXNQb2ludGVyOiB7DQogICAgICAgICAgICB0eXBlOiAnc2hhZG93Jw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAndmFsdWUnDQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywNCiAgICAgICAgICBkYXRhOiBwb3B1bGFyRGlzaGVzLm1hcChpdGVtID0+IGl0ZW0ubmFtZSkNCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICBkYXRhOiBwb3B1bGFyRGlzaGVzLm1hcChpdGVtID0+IGl0ZW0ub3JkZXJDb3VudCkNCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH07DQogICAgfSwNCiAgICBjb21tZW50c1RpbWVsaW5lQ2hhcnQoKSB7DQogICAgICBjb25zdCB7IGNvbW1lbnRzVGltZWxpbmUgPSBbXSB9ID0gdGhpcy5zdGF0aXN0aWNzOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgIHRyaWdnZXI6ICdheGlzJw0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsDQogICAgICAgICAgZGF0YTogY29tbWVudHNUaW1lbGluZS5tYXAoaXRlbSA9PiBpdGVtLmRhdGUpDQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ3ZhbHVlJw0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBkYXRhOiBjb21tZW50c1RpbWVsaW5lLm1hcChpdGVtID0+IGl0ZW0uY291bnQpLA0KICAgICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgICAgc21vb3RoOiB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9Ow0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmZldGNoUmVzdGF1cmFudHMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGZldGNoUmVzdGF1cmFudHMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3Jlc3RhdXJhbnQvbGlzdCcpOw0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnJlc3RhdXJhbnRzID0gcmVzcG9uc2UuZGF0YS5kYXRhOw0KICAgICAgICAgIGlmICh0aGlzLnJlc3RhdXJhbnRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50ID0gdGhpcy5yZXN0YXVyYW50c1swXS5pZDsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hTdGF0aXN0aWNzKCk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcmVzdGF1cmFudHM6JywgZXJyb3IpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCByZXN0YXVyYW50cycpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZmV0Y2hTdGF0aXN0aWNzKCkgew0KICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkUmVzdGF1cmFudCB8fCAhdGhpcy5kYXRlUmFuZ2UpIHJldHVybjsNCg0KICAgICAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSB0aGlzLmRhdGVSYW5nZTsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvc3RhdGlzdGljcy9yZXN0YXVyYW50Jywgew0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgcmVzdGF1cmFudElkOiB0aGlzLnNlbGVjdGVkUmVzdGF1cmFudCwNCiAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwNCiAgICAgICAgICAgIGVuZERhdGU6IGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdDQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnN0YXRpc3RpY3MgPSByZXNwb25zZS5kYXRhLmRhdGE7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzdGF0aXN0aWNzOicsIGVycm9yKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgc3RhdGlzdGljcycpOw0KICAgICAgfQ0KICAgIH0sDQogICAgbG9hZE1vY2tEYXRhKCkgew0KICAgICAgdGhpcy5zdGF0aXN0aWNzID0gew0KICAgICAgICBhdmVyYWdlUmF0aW5nOiA0LjQsDQogICAgICAgIHRvdGFsQ29tbWVudHM6IDAsDQogICAgICAgIG1lbnVJdGVtQ291bnQ6IDAsDQogICAgICAgIHRvdGFsVmlld3M6IDQwNzksDQogICAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbjogew0KICAgICAgICAgICcxIFN0YXInOiA1LA0KICAgICAgICAgICcyIFN0YXJzJzogMTAsDQogICAgICAgICAgJzMgU3RhcnMnOiAyMCwNCiAgICAgICAgICAnNCBTdGFycyc6IDQwLA0KICAgICAgICAgICc1IFN0YXJzJzogMjUNCiAgICAgICAgfSwNCiAgICAgICAgdmlld3NUcmVuZDogQXJyYXkuZnJvbSh7IGxlbmd0aDogNyB9LCAoXywgaSkgPT4gKHsNCiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gKDYgLSBpKSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwNCiAgICAgICAgICB2aWV3czogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDUwDQogICAgICAgIH0pKSwNCiAgICAgICAgcG9wdWxhckRpc2hlczogWw0KICAgICAgICAgIHsgbmFtZTogJ0Rpc2ggMScsIG9yZGVyQ291bnQ6IDQ1IH0sDQogICAgICAgICAgeyBuYW1lOiAnRGlzaCAyJywgb3JkZXJDb3VudDogMzggfSwNCiAgICAgICAgICB7IG5hbWU6ICdEaXNoIDMnLCBvcmRlckNvdW50OiAzMiB9LA0KICAgICAgICAgIHsgbmFtZTogJ0Rpc2ggNCcsIG9yZGVyQ291bnQ6IDI1IH0sDQogICAgICAgICAgeyBuYW1lOiAnRGlzaCA1Jywgb3JkZXJDb3VudDogMjAgfQ0KICAgICAgICBdLA0KICAgICAgICBjb21tZW50c1RpbWVsaW5lOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiA3IH0sIChfLCBpKSA9PiAoew0KICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgLSAoNiAtIGkpICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLA0KICAgICAgICAgIGNvdW50OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkNCiAgICAgICAgfSkpDQogICAgICB9Ow0KICAgIH0sDQogICAgYXN5bmMgdGVzdEFQSSgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvc3RhdGlzdGljcy90ZXN0Jyk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnQVBJIHRlc3Qgc3VjY2Vzc2Z1bCcpOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignQVBJIHRlc3QgZmFpbGVkOicsIGVycm9yKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignQVBJIHRlc3QgZmFpbGVkJyk7DQogICAgICB9DQogICAgfSwNCiAgICBsb2dSZXN0YXVyYW50RGV0YWlscygpIHsNCiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFN0YXRpc3RpY3M6JywgdGhpcy5zdGF0aXN0aWNzKTsNCiAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBSZXN0YXVyYW50OicsIHRoaXMuc2VsZWN0ZWRSZXN0YXVyYW50KTsNCiAgICAgIGNvbnNvbGUubG9nKCdEYXRlIFJhbmdlOicsIHRoaXMuZGF0ZVJhbmdlKTsNCiAgICB9LA0KICAgIGJhY2tUb0hvbWUoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["RestaurantStatistics.vue"],"names":[],"mappings":";AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RestaurantStatistics.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"restaurant-statistics\">\r\n    <div class=\"header\">\r\n      <h1>Restaurant Statistics Dashboard</h1>\r\n      <el-button type=\"primary\" icon=\"el-icon-back\" @click=\"backToHome\">Back to Home</el-button>\r\n    </div>\r\n\r\n    <!-- 筛选条件 -->\r\n    <div class=\"filters\">\r\n      <el-date-picker\r\n        v-model=\"dateRange\"\r\n        type=\"daterange\"\r\n        range-separator=\"to\"\r\n        start-placeholder=\"Start Date\"\r\n        end-placeholder=\"End Date\"\r\n        :default-time=\"['00:00:00', '23:59:59']\"\r\n        @change=\"fetchStatistics\"\r\n      />\r\n      \r\n      <el-select\r\n        v-model=\"selectedRestaurant\"\r\n        placeholder=\"Select Restaurant\"\r\n        @change=\"fetchStatistics\"\r\n        class=\"restaurant-select\"\r\n      >\r\n        <el-option\r\n          v-for=\"restaurant in restaurants\"\r\n          :key=\"restaurant.id\"\r\n          :label=\"restaurant.name\"\r\n          :value=\"restaurant.id\"\r\n        />\r\n      </el-select>\r\n\r\n      <div class=\"action-buttons\">\r\n        <el-button type=\"primary\" @click=\"loadMockData\">Load Mock Data</el-button>\r\n        <el-button type=\"success\" @click=\"testAPI\">Test API</el-button>\r\n        <el-button type=\"info\" @click=\"logRestaurantDetails\">Log Restaurant Details</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 主要指标卡片 -->\r\n    <div class=\"metric-cards\">\r\n      <el-card class=\"metric-card\">\r\n        <div class=\"metric-title\">Average Rating</div>\r\n        <div class=\"metric-value\">\r\n          <span class=\"number\">{{ statistics.averageRating || '0.0' }}</span>\r\n          <el-rate\r\n            v-model=\"statistics.averageRating\"\r\n            disabled\r\n            show-score\r\n            text-color=\"#ff9900\"\r\n            score-template=\"\"\r\n          />\r\n        </div>\r\n      </el-card>\r\n\r\n      <el-card class=\"metric-card\">\r\n        <div class=\"metric-title\">Comments</div>\r\n        <div class=\"metric-value\">\r\n          <span class=\"number\">{{ statistics.totalComments || 0 }}</span>\r\n        </div>\r\n      </el-card>\r\n\r\n      <el-card class=\"metric-card\">\r\n        <div class=\"metric-title\">Menu Items</div>\r\n        <div class=\"metric-value\">\r\n          <span class=\"number\">{{ statistics.menuItemCount || 0 }}</span>\r\n        </div>\r\n      </el-card>\r\n\r\n      <el-card class=\"metric-card\">\r\n        <div class=\"metric-title\">Total Views</div>\r\n        <div class=\"metric-value\">\r\n          <span class=\"number\">{{ statistics.totalViews || 0 }}</span>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- 图表区域 -->\r\n    <div class=\"charts-container\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"12\">\r\n          <el-card class=\"chart-card\">\r\n            <div slot=\"header\">Rating Distribution</div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :option=\"ratingDistributionChart\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        \r\n        <el-col :span=\"12\">\r\n          <el-card class=\"chart-card\">\r\n            <div slot=\"header\">Views Trend</div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :option=\"viewsTrendChart\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        \r\n        <el-col :span=\"12\">\r\n          <el-card class=\"chart-card\">\r\n            <div slot=\"header\">Popular Dishes</div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :option=\"popularDishesChart\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        \r\n        <el-col :span=\"12\">\r\n          <el-card class=\"chart-card\">\r\n            <div slot=\"header\">Comments Timeline</div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :option=\"commentsTimelineChart\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { use } from 'echarts/core';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\nimport { BarChart, LineChart, PieChart } from 'echarts/charts';\r\nimport {\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n  GridComponent\r\n} from 'echarts/components';\r\nimport VChart, { THEME_KEY } from 'vue-echarts';\r\nimport axios from 'axios';\r\n\r\nuse([\r\n  CanvasRenderer,\r\n  BarChart,\r\n  LineChart,\r\n  PieChart,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n  GridComponent\r\n]);\r\n\r\nexport default {\r\n  name: 'RestaurantStatistics',\r\n  components: {\r\n    VChart\r\n  },\r\n  provide: {\r\n    [THEME_KEY]: 'light'\r\n  },\r\n  data() {\r\n    return {\r\n      dateRange: [\r\n        new Date(new Date().setDate(new Date().getDate() - 7)),\r\n        new Date()\r\n      ],\r\n      selectedRestaurant: null,\r\n      restaurants: [],\r\n      statistics: {\r\n        averageRating: 0,\r\n        totalComments: 0,\r\n        menuItemCount: 0,\r\n        totalViews: 0,\r\n        ratingDistribution: {},\r\n        viewsTrend: [],\r\n        popularDishes: [],\r\n        commentsTimeline: []\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ratingDistributionChart() {\r\n      const data = Object.entries(this.statistics.ratingDistribution || {}).map(\r\n        ([rating, count]) => ({\r\n          name: `${rating} Star`,\r\n          value: count\r\n        })\r\n      );\r\n\r\n      return {\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '{b}: {c} ({d}%)'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            radius: ['50%', '70%'],\r\n            avoidLabelOverlap: false,\r\n            label: {\r\n              show: true,\r\n              position: 'outside'\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                fontSize: '16',\r\n                fontWeight: 'bold'\r\n              }\r\n            },\r\n            labelLine: {\r\n              show: true\r\n            },\r\n            data: data\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    viewsTrendChart() {\r\n      const { viewsTrend = [] } = this.statistics;\r\n      return {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: viewsTrend.map(item => item.date)\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: viewsTrend.map(item => item.views),\r\n            type: 'line',\r\n            smooth: true,\r\n            areaStyle: {}\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    popularDishesChart() {\r\n      const { popularDishes = [] } = this.statistics;\r\n      return {\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        xAxis: {\r\n          type: 'value'\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: popularDishes.map(item => item.name)\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            data: popularDishes.map(item => item.orderCount)\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    commentsTimelineChart() {\r\n      const { commentsTimeline = [] } = this.statistics;\r\n      return {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: commentsTimeline.map(item => item.date)\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: commentsTimeline.map(item => item.count),\r\n            type: 'line',\r\n            smooth: true\r\n          }\r\n        ]\r\n      };\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchRestaurants();\r\n  },\r\n  methods: {\r\n    async fetchRestaurants() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/restaurant/list');\r\n        if (response.data.code === 200) {\r\n          this.restaurants = response.data.data;\r\n          if (this.restaurants.length > 0) {\r\n            this.selectedRestaurant = this.restaurants[0].id;\r\n            this.fetchStatistics();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch restaurants:', error);\r\n        this.$message.error('Failed to load restaurants');\r\n      }\r\n    },\r\n    async fetchStatistics() {\r\n      if (!this.selectedRestaurant || !this.dateRange) return;\r\n\r\n      const [startDate, endDate] = this.dateRange;\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/statistics/restaurant', {\r\n          params: {\r\n            restaurantId: this.selectedRestaurant,\r\n            startDate: startDate.toISOString().split('T')[0],\r\n            endDate: endDate.toISOString().split('T')[0]\r\n          }\r\n        });\r\n\r\n        if (response.data.code === 200) {\r\n          this.statistics = response.data.data;\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch statistics:', error);\r\n        this.$message.error('Failed to load statistics');\r\n      }\r\n    },\r\n    loadMockData() {\r\n      this.statistics = {\r\n        averageRating: 4.4,\r\n        totalComments: 0,\r\n        menuItemCount: 0,\r\n        totalViews: 4079,\r\n        ratingDistribution: {\r\n          '1 Star': 5,\r\n          '2 Stars': 10,\r\n          '3 Stars': 20,\r\n          '4 Stars': 40,\r\n          '5 Stars': 25\r\n        },\r\n        viewsTrend: Array.from({ length: 7 }, (_, i) => ({\r\n          date: new Date(Date.now() - (6 - i) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n          views: Math.floor(Math.random() * 100) + 50\r\n        })),\r\n        popularDishes: [\r\n          { name: 'Dish 1', orderCount: 45 },\r\n          { name: 'Dish 2', orderCount: 38 },\r\n          { name: 'Dish 3', orderCount: 32 },\r\n          { name: 'Dish 4', orderCount: 25 },\r\n          { name: 'Dish 5', orderCount: 20 }\r\n        ],\r\n        commentsTimeline: Array.from({ length: 7 }, (_, i) => ({\r\n          date: new Date(Date.now() - (6 - i) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n          count: Math.floor(Math.random() * 10)\r\n        }))\r\n      };\r\n    },\r\n    async testAPI() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/statistics/test');\r\n        this.$message.success('API test successful');\r\n      } catch (error) {\r\n        console.error('API test failed:', error);\r\n        this.$message.error('API test failed');\r\n      }\r\n    },\r\n    logRestaurantDetails() {\r\n      console.log('Current Statistics:', this.statistics);\r\n      console.log('Selected Restaurant:', this.selectedRestaurant);\r\n      console.log('Date Range:', this.dateRange);\r\n    },\r\n    backToHome() {\r\n      this.$router.push('/');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.restaurant-statistics {\r\n  padding: 20px;\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.header h1 {\r\n  margin: 0;\r\n  color: #303133;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.restaurant-select {\r\n  min-width: 200px;\r\n}\r\n\r\n.action-buttons {\r\n  margin-left: auto;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.metric-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.metric-card {\r\n  text-align: center;\r\n  padding: 20px;\r\n}\r\n\r\n.metric-title {\r\n  color: #909399;\r\n  font-size: 14px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.metric-value {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.metric-value .number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.charts-container {\r\n  margin-top: 20px;\r\n}\r\n\r\n.chart-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chart-container {\r\n  height: 300px;\r\n  width: 100%;\r\n}\r\n\r\n:deep(.el-card__header) {\r\n  padding: 15px 20px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n:deep(.el-date-editor.el-input),\r\n:deep(.el-date-editor.el-input__inner) {\r\n  width: 320px;\r\n}\r\n</style> "]}]}